/*! Simple JavaScript Inheritance
 * By John Resig http://ejohn.org/
 * MIT Licensed.
 */
!function(){"use strict";var a=!1;window.JQClass=function(){},JQClass.classes={},JQClass.extend=function b(c){function d(){!a&&this._init&&this._init.apply(this,arguments)}var e=this.prototype;a=!0;var f=new this;a=!1;for(var g in c)if("function"==typeof c[g]&&"function"==typeof e[g])f[g]=function(a,b){return function(){var c=this._super;this._super=function(b){return e[a].apply(this,b||[])};var d=b.apply(this,arguments);return this._super=c,d}}(g,c[g]);else if("object"==typeof c[g]&&"object"==typeof e[g]&&"defaultOptions"===g){var h,i=e[g],j=c[g],k={};for(h in i)k[h]=i[h];for(h in j)k[h]=j[h];f[g]=k}else f[g]=c[g];return d.prototype=f,d.prototype.constructor=d,d.extend=b,d}}(),/*! Abstract base class for collection plugins v1.0.2.
	Written by Keith Wood (wood.keith{at}optusnet.com.au) December 2013.
	Licensed under the MIT license (http://keith-wood.name/licence.html). */
function($){"use strict";function camelCase(a){return a.replace(/-([a-z])/g,function(a,b){return b.toUpperCase()})}JQClass.classes.JQPlugin=JQClass.extend({name:"plugin",defaultOptions:{},regionalOptions:{},deepMerge:!0,_getMarker:function(){return"is-"+this.name},_init:function(){$.extend(this.defaultOptions,this.regionalOptions&&this.regionalOptions[""]||{});var a=camelCase(this.name);$[a]=this,$.fn[a]=function(b){var c=Array.prototype.slice.call(arguments,1),d=this,e=this;return this.each(function(){if("string"==typeof b){if("_"===b[0]||!$[a][b])throw"Unknown method: "+b;var f=$[a][b].apply($[a],[this].concat(c));if(f!==d&&void 0!==f)return e=f,!1}else $[a]._attach(this,b)}),e}},setDefaults:function(a){$.extend(this.defaultOptions,a||{})},_attach:function(a,b){if(a=$(a),!a.hasClass(this._getMarker())){a.addClass(this._getMarker()),b=$.extend(this.deepMerge,{},this.defaultOptions,this._getMetadata(a),b||{});var c=$.extend({name:this.name,elem:a,options:b},this._instSettings(a,b));a.data(this.name,c),this._postAttach(a,c),this.option(a,b)}},_instSettings:function(a,b){return{}},_postAttach:function(a,b){},_getMetadata:function(elem){try{var data=elem.data(this.name.toLowerCase())||"";data=data.replace(/(\\?)'/g,function(a,b){return b?"'":'"'}).replace(/([a-zA-Z0-9]+):/g,function(a,b,c){var d=data.substring(0,c).match(/"/g);return d&&d.length%2!==0?b+":":'"'+b+'":'}).replace(/\\:/g,":"),data=$.parseJSON("{"+data+"}");for(var key in data)if(data.hasOwnProperty(key)){var value=data[key];"string"==typeof value&&value.match(/^new Date\(([-0-9,\s]*)\)$/)&&(data[key]=eval(value))}return data}catch(a){return{}}},_getInst:function(a){return $(a).data(this.name)||{}},option:function(a,b,c){a=$(a);var d=a.data(this.name),e=b||{};return!b||"string"==typeof b&&"undefined"==typeof c?(e=(d||{}).options,e&&b?e[b]:e):void(a.hasClass(this._getMarker())&&("string"==typeof b&&(e={},e[b]=c),this._optionsChanged(a,d,e),$.extend(d.options,e)))},_optionsChanged:function(a,b,c){},destroy:function(a){a=$(a),a.hasClass(this._getMarker())&&(this._preDestroy(a,this._getInst(a)),a.removeData(this.name).removeClass(this._getMarker()))},_preDestroy:function(a,b){}}),$.JQPlugin={createPlugin:function(a,b){"object"==typeof a&&(b=a,a="JQPlugin"),a=camelCase(a);var c=camelCase(b.name);JQClass.classes[c]=JQClass.classes[a].extend(b),new JQClass.classes[c]}}}(jQuery);
//# sourceMappingURL=jquery.plugin.min.map;
/*! http://keith-wood.name/countdown.html
	Countdown for jQuery v2.1.0.
	Written by Keith Wood (wood.keith{at}optusnet.com.au) January 2008.
	Available under the MIT (http://keith-wood.name/licence.html) license. 
	Please attribute the author if you use it. */
!function(a){"use strict";var b="countdown",c=0,d=1,e=2,f=3,g=4,h=5,i=6;a.JQPlugin.createPlugin({name:b,defaultOptions:{until:null,since:null,timezone:null,serverSync:null,format:"dHMS",layout:"",compact:!1,padZeroes:!1,significant:0,description:"",expiryUrl:"",expiryText:"",alwaysExpire:!1,onExpiry:null,onTick:null,tickInterval:1},regionalOptions:{"":{labels:["Years","Months","Weeks","Days","Hours","Minutes","Seconds"],labels1:["Year","Month","Week","Day","Hour","Minute","Second"],compactLabels:["y","m","w","d"],whichLabels:null,digits:["0","1","2","3","4","5","6","7","8","9"],timeSeparator:":",isRTL:!1}},_rtlClass:b+"-rtl",_sectionClass:b+"-section",_amountClass:b+"-amount",_periodClass:b+"-period",_rowClass:b+"-row",_holdingClass:b+"-holding",_showClass:b+"-show",_descrClass:b+"-descr",_timerElems:[],_init:function(){function b(a){var h=a<1e12?e?window.performance.now()+window.performance.timing.navigationStart:d():a||d();h-g>=1e3&&(c._updateElems(),g=h),f(b)}var c=this;this._super(),this._serverSyncs=[];var d="function"==typeof Date.now?Date.now:function(){return(new Date).getTime()},e=window.performance&&"function"==typeof window.performance.now,f=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||null,g=0;!f||a.noRequestAnimationFrame?(a.noRequestAnimationFrame=null,a.countdown._timer=setInterval(function(){c._updateElems()},1e3)):(g=window.animationStartTime||window.webkitAnimationStartTime||window.mozAnimationStartTime||window.oAnimationStartTime||window.msAnimationStartTime||d(),f(b))},UTCDate:function(a,b,c,d,e,f,g,h){"object"==typeof b&&b instanceof Date&&(h=b.getMilliseconds(),g=b.getSeconds(),f=b.getMinutes(),e=b.getHours(),d=b.getDate(),c=b.getMonth(),b=b.getFullYear());var i=new Date;return i.setUTCFullYear(b),i.setUTCDate(1),i.setUTCMonth(c||0),i.setUTCDate(d||1),i.setUTCHours(e||0),i.setUTCMinutes((f||0)-(Math.abs(a)<30?60*a:a)),i.setUTCSeconds(g||0),i.setUTCMilliseconds(h||0),i},periodsToSeconds:function(a){return 31557600*a[0]+2629800*a[1]+604800*a[2]+86400*a[3]+3600*a[4]+60*a[5]+a[6]},resync:function(){var b=this;a("."+this._getMarker()).each(function(){var c=a.data(this,b.name);if(c.options.serverSync){for(var d=null,e=0;e<b._serverSyncs.length;e++)if(b._serverSyncs[e][0]===c.options.serverSync){d=b._serverSyncs[e];break}if(b._eqNull(d[2])){var f=a.isFunction(c.options.serverSync)?c.options.serverSync.apply(this,[]):null;d[2]=(f?(new Date).getTime()-f.getTime():0)-d[1]}c._since&&c._since.setMilliseconds(c._since.getMilliseconds()+d[2]),c._until.setMilliseconds(c._until.getMilliseconds()+d[2])}});for(var c=0;c<b._serverSyncs.length;c++)b._eqNull(b._serverSyncs[c][2])||(b._serverSyncs[c][1]+=b._serverSyncs[c][2],delete b._serverSyncs[c][2])},_instSettings:function(a,b){return{_periods:[0,0,0,0,0,0,0]}},_addElem:function(a){this._hasElem(a)||this._timerElems.push(a)},_hasElem:function(b){return a.inArray(b,this._timerElems)>-1},_removeElem:function(b){this._timerElems=a.map(this._timerElems,function(a){return a===b?null:a})},_updateElems:function(){for(var a=this._timerElems.length-1;a>=0;a--)this._updateCountdown(this._timerElems[a])},_optionsChanged:function(b,c,d){d.layout&&(d.layout=d.layout.replace(/&lt;/g,"<").replace(/&gt;/g,">")),this._resetExtraLabels(c.options,d);var e=c.options.timezone!==d.timezone;a.extend(c.options,d),this._adjustSettings(b,c,!this._eqNull(d.until)||!this._eqNull(d.since)||e);var f=new Date;(c._since&&c._since<f||c._until&&c._until>f)&&this._addElem(b[0]),this._updateCountdown(b,c)},_updateCountdown:function(b,c){if(b=b.jquery?b:a(b),c=c||this._getInst(b)){if(b.html(this._generateHTML(c)).toggleClass(this._rtlClass,c.options.isRTL),"pause"!==c._hold&&a.isFunction(c.options.onTick)){var d="lap"!==c._hold?c._periods:this._calculatePeriods(c,c._show,c.options.significant,new Date);1!==c.options.tickInterval&&this.periodsToSeconds(d)%c.options.tickInterval!==0||c.options.onTick.apply(b[0],[d])}var e="pause"!==c._hold&&(c._since?c._now.getTime()<c._since.getTime():c._now.getTime()>=c._until.getTime());if(e&&!c._expiring){if(c._expiring=!0,this._hasElem(b[0])||c.options.alwaysExpire){if(this._removeElem(b[0]),a.isFunction(c.options.onExpiry)&&c.options.onExpiry.apply(b[0],[]),c.options.expiryText){var f=c.options.layout;c.options.layout=c.options.expiryText,this._updateCountdown(b[0],c),c.options.layout=f}c.options.expiryUrl&&(window.location=c.options.expiryUrl)}c._expiring=!1}else"pause"===c._hold&&this._removeElem(b[0])}},_resetExtraLabels:function(a,b){var c=null;for(c in b)c.match(/[Ll]abels[02-9]|compactLabels1/)&&(a[c]=b[c]);for(c in a)c.match(/[Ll]abels[02-9]|compactLabels1/)&&"undefined"==typeof b[c]&&(a[c]=null)},_eqNull:function(a){return"undefined"==typeof a||null===a},_adjustSettings:function(b,c,d){for(var e=null,f=0;f<this._serverSyncs.length;f++)if(this._serverSyncs[f][0]===c.options.serverSync){e=this._serverSyncs[f][1];break}var g=null,h=null;if(this._eqNull(e)){var i=a.isFunction(c.options.serverSync)?c.options.serverSync.apply(b[0],[]):null;g=new Date,h=i?g.getTime()-i.getTime():0,this._serverSyncs.push([c.options.serverSync,h])}else g=new Date,h=c.options.serverSync?e:0;var j=c.options.timezone;j=this._eqNull(j)?-g.getTimezoneOffset():j,(d||!d&&this._eqNull(c._until)&&this._eqNull(c._since))&&(c._since=c.options.since,this._eqNull(c._since)||(c._since=this.UTCDate(j,this._determineTime(c._since,null)),c._since&&h&&c._since.setMilliseconds(c._since.getMilliseconds()+h)),c._until=this.UTCDate(j,this._determineTime(c.options.until,g)),h&&c._until.setMilliseconds(c._until.getMilliseconds()+h)),c._show=this._determineShow(c)},_preDestroy:function(a,b){this._removeElem(a[0]),a.empty()},pause:function(a){this._hold(a,"pause")},lap:function(a){this._hold(a,"lap")},resume:function(a){this._hold(a,null)},toggle:function(b){var c=a.data(b,this.name)||{};this[c._hold?"resume":"pause"](b)},toggleLap:function(b){var c=a.data(b,this.name)||{};this[c._hold?"resume":"lap"](b)},_hold:function(b,c){var d=a.data(b,this.name);if(d){if("pause"===d._hold&&!c){d._periods=d._savePeriods;var e=d._since?"-":"+";d[d._since?"_since":"_until"]=this._determineTime(e+d._periods[0]+"y"+e+d._periods[1]+"o"+e+d._periods[2]+"w"+e+d._periods[3]+"d"+e+d._periods[4]+"h"+e+d._periods[5]+"m"+e+d._periods[6]+"s"),this._addElem(b)}d._hold=c,d._savePeriods="pause"===c?d._periods:null,a.data(b,this.name,d),this._updateCountdown(b,d)}},getTimes:function(b){var c=a.data(b,this.name);return c?"pause"===c._hold?c._savePeriods:c._hold?this._calculatePeriods(c,c._show,c.options.significant,new Date):c._periods:null},_determineTime:function(a,b){var c=this,d=function(a){var b=new Date;return b.setTime(b.getTime()+1e3*a),b},e=function(a){a=a.toLowerCase();for(var b=new Date,d=b.getFullYear(),e=b.getMonth(),f=b.getDate(),g=b.getHours(),h=b.getMinutes(),i=b.getSeconds(),j=/([+-]?[0-9]+)\s*(s|m|h|d|w|o|y)?/g,k=j.exec(a);k;){switch(k[2]||"s"){case"s":i+=parseInt(k[1],10);break;case"m":h+=parseInt(k[1],10);break;case"h":g+=parseInt(k[1],10);break;case"d":f+=parseInt(k[1],10);break;case"w":f+=7*parseInt(k[1],10);break;case"o":e+=parseInt(k[1],10),f=Math.min(f,c._getDaysInMonth(d,e));break;case"y":d+=parseInt(k[1],10),f=Math.min(f,c._getDaysInMonth(d,e))}k=j.exec(a)}return new Date(d,e,f,g,h,i,0)},f=this._eqNull(a)?b:"string"==typeof a?e(a):"number"==typeof a?d(a):a;return f&&f.setMilliseconds(0),f},_getDaysInMonth:function(a,b){return 32-new Date(a,b,32).getDate()},_normalLabels:function(a){return a},_generateHTML:function(b){var j=this;b._periods=b._hold?b._periods:this._calculatePeriods(b,b._show,b.options.significant,new Date);var k=!1,l=0,m=b.options.significant,n=a.extend({},b._show),o=null;for(o=c;o<=i;o++)k=k||"?"===b._show[o]&&b._periods[o]>0,n[o]="?"!==b._show[o]||k?b._show[o]:null,l+=n[o]?1:0,m-=b._periods[o]>0?1:0;var p=[!1,!1,!1,!1,!1,!1,!1];for(o=i;o>=c;o--)b._show[o]&&(b._periods[o]?p[o]=!0:(p[o]=m>0,m--));var q=b.options.compact?b.options.compactLabels:b.options.labels,r=b.options.whichLabels||this._normalLabels,s=function(a){var c=b.options["compactLabels"+r(b._periods[a])];return n[a]?j._translateDigits(b,b._periods[a])+(c?c[a]:q[a])+" ":""},t=b.options.padZeroes?2:1,u=function(a){var c=b.options["labels"+r(b._periods[a])];return!b.options.significant&&n[a]||b.options.significant&&p[a]?'<span class="'+j._sectionClass+'"><span class="'+j._amountClass+'">'+j._minDigits(b,b._periods[a],t)+'</span><span class="'+j._periodClass+'">'+(c?c[a]:q[a])+"</span></span>":""};return b.options.layout?this._buildLayout(b,n,b.options.layout,b.options.compact,b.options.significant,p):(b.options.compact?'<span class="'+this._rowClass+" "+this._amountClass+(b._hold?" "+this._holdingClass:"")+'">'+s(c)+s(d)+s(e)+s(f)+(n[g]?this._minDigits(b,b._periods[g],2):"")+(n[h]?(n[g]?b.options.timeSeparator:"")+this._minDigits(b,b._periods[h],2):"")+(n[i]?(n[g]||n[h]?b.options.timeSeparator:"")+this._minDigits(b,b._periods[i],2):""):'<span class="'+this._rowClass+" "+this._showClass+(b.options.significant||l)+(b._hold?" "+this._holdingClass:"")+'">'+u(c)+u(d)+u(e)+u(f)+u(g)+u(h)+u(i))+"</span>"+(b.options.description?'<span class="'+this._rowClass+" "+this._descrClass+'">'+b.options.description+"</span>":"")},_buildLayout:function(b,j,k,l,m,n){for(var o=b.options[l?"compactLabels":"labels"],p=b.options.whichLabels||this._normalLabels,q=function(a){return(b.options[(l?"compactLabels":"labels")+p(b._periods[a])]||o)[a]},r=function(a,c){return b.options.digits[Math.floor(a/c)%10]},s={desc:b.options.description,sep:b.options.timeSeparator,yl:q(c),yn:this._minDigits(b,b._periods[c],1),ynn:this._minDigits(b,b._periods[c],2),ynnn:this._minDigits(b,b._periods[c],3),y1:r(b._periods[c],1),y10:r(b._periods[c],10),y100:r(b._periods[c],100),y1000:r(b._periods[c],1e3),ol:q(d),on:this._minDigits(b,b._periods[d],1),onn:this._minDigits(b,b._periods[d],2),onnn:this._minDigits(b,b._periods[d],3),o1:r(b._periods[d],1),o10:r(b._periods[d],10),o100:r(b._periods[d],100),o1000:r(b._periods[d],1e3),wl:q(e),wn:this._minDigits(b,b._periods[e],1),wnn:this._minDigits(b,b._periods[e],2),wnnn:this._minDigits(b,b._periods[e],3),w1:r(b._periods[e],1),w10:r(b._periods[e],10),w100:r(b._periods[e],100),w1000:r(b._periods[e],1e3),dl:q(f),dn:this._minDigits(b,b._periods[f],1),dnn:this._minDigits(b,b._periods[f],2),dnnn:this._minDigits(b,b._periods[f],3),d1:r(b._periods[f],1),d10:r(b._periods[f],10),d100:r(b._periods[f],100),d1000:r(b._periods[f],1e3),hl:q(g),hn:this._minDigits(b,b._periods[g],1),hnn:this._minDigits(b,b._periods[g],2),hnnn:this._minDigits(b,b._periods[g],3),h1:r(b._periods[g],1),h10:r(b._periods[g],10),h100:r(b._periods[g],100),h1000:r(b._periods[g],1e3),ml:q(h),mn:this._minDigits(b,b._periods[h],1),mnn:this._minDigits(b,b._periods[h],2),mnnn:this._minDigits(b,b._periods[h],3),m1:r(b._periods[h],1),m10:r(b._periods[h],10),m100:r(b._periods[h],100),m1000:r(b._periods[h],1e3),sl:q(i),sn:this._minDigits(b,b._periods[i],1),snn:this._minDigits(b,b._periods[i],2),snnn:this._minDigits(b,b._periods[i],3),s1:r(b._periods[i],1),s10:r(b._periods[i],10),s100:r(b._periods[i],100),s1000:r(b._periods[i],1e3)},t=k,u=c;u<=i;u++){var v="yowdhms".charAt(u),w=new RegExp("\\{"+v+"<\\}([\\s\\S]*)\\{"+v+">\\}","g");t=t.replace(w,!m&&j[u]||m&&n[u]?"$1":"")}return a.each(s,function(a,b){var c=new RegExp("\\{"+a+"\\}","g");t=t.replace(c,b)}),t},_minDigits:function(a,b,c){return b=""+b,b.length>=c?this._translateDigits(a,b):(b="0000000000"+b,this._translateDigits(a,b.substr(b.length-c)))},_translateDigits:function(a,b){return(""+b).replace(/[0-9]/g,function(b){return a.options.digits[b]})},_determineShow:function(a){var b=a.options.format,j=[];return j[c]=b.match("y")?"?":b.match("Y")?"!":null,j[d]=b.match("o")?"?":b.match("O")?"!":null,j[e]=b.match("w")?"?":b.match("W")?"!":null,j[f]=b.match("d")?"?":b.match("D")?"!":null,j[g]=b.match("h")?"?":b.match("H")?"!":null,j[h]=b.match("m")?"?":b.match("M")?"!":null,j[i]=b.match("s")?"?":b.match("S")?"!":null,j},_calculatePeriods:function(a,b,j,k){a._now=k,a._now.setMilliseconds(0);var l=new Date(a._now.getTime());a._since?k.getTime()<a._since.getTime()?a._now=k=l:k=a._since:(l.setTime(a._until.getTime()),k.getTime()>a._until.getTime()&&(a._now=k=l));var m=[0,0,0,0,0,0,0];if(b[c]||b[d]){var n=this._getDaysInMonth(k.getFullYear(),k.getMonth()),o=this._getDaysInMonth(l.getFullYear(),l.getMonth()),p=l.getDate()===k.getDate()||l.getDate()>=Math.min(n,o)&&k.getDate()>=Math.min(n,o),q=function(a){return 60*(60*a.getHours()+a.getMinutes())+a.getSeconds()},r=Math.max(0,12*(l.getFullYear()-k.getFullYear())+l.getMonth()-k.getMonth()+(l.getDate()<k.getDate()&&!p||p&&q(l)<q(k)?-1:0));m[c]=b[c]?Math.floor(r/12):0,m[d]=b[d]?r-12*m[c]:0,k=new Date(k.getTime());var s=k.getDate()===n,t=this._getDaysInMonth(k.getFullYear()+m[c],k.getMonth()+m[d]);k.getDate()>t&&k.setDate(t),k.setFullYear(k.getFullYear()+m[c]),k.setMonth(k.getMonth()+m[d]),s&&k.setDate(t)}var u=Math.floor((l.getTime()-k.getTime())/1e3),v=null,w=function(a,c){m[a]=b[a]?Math.floor(u/c):0,u-=m[a]*c};if(w(e,604800),w(f,86400),w(g,3600),w(h,60),w(i,1),u>0&&!a._since){var x=[1,12,4.3482,7,24,60,60],y=i,z=1;for(v=i;v>=c;v--)b[v]&&(m[y]>=z&&(m[y]=0,u=1),u>0&&(m[v]++,u=0,y=v,z=1)),z*=x[v]}if(j)for(v=c;v<=i;v++)j&&m[v]?j--:j||(m[v]=0);return m}})}(jQuery);
//# sourceMappingURL=jquery.countdown.min.map;
"use strict";function getURLVar(key){var value=[];var query=String(document.location).split('?');if(query[1]){var part=query[1].split('&');for(i=0;i<part.length;i++){var data=part[i].split('=');if(data[0]&&data[1]){value[data[0]]=data[1]}}
if(value[key]){return value[key]}else{return''}}}(function(factory){if(typeof define==='function'&&define.amd){define(['jquery'],factory)}else if(typeof exports==='object'){factory(require('jquery'))}else{factory(jQuery)}}(function($){var pluses=/\+/g;function encode(s){return config.raw?s:encodeURIComponent(s)}
function decode(s){return config.raw?s:decodeURIComponent(s)}
function stringifyCookieValue(value){return encode(config.json?JSON.stringify(value):String(value))}
function parseCookieValue(s){if(s.indexOf('"')===0){s=s.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,'\\')}
try{s=decodeURIComponent(s.replace(pluses,' '));return config.json?JSON.parse(s):s}catch(e){}}
function read(s,converter){var value=config.raw?s:parseCookieValue(s);return $.isFunction(converter)?converter(value):value}
var config=$.mz_cookie=function(key,value,options){if(value!==undefined&&!$.isFunction(value)){options=$.extend({},config.defaults,options);if(typeof options.expires==='number'){var days=options.expires,t=options.expires=new Date();t.setTime(+t+days*864e+5)}
return(document.cookie=[encode(key),'=',stringifyCookieValue(value),options.expires?'; expires='+options.expires.toUTCString():'',options.path?'; path='+options.path:'',options.domain?'; domain='+options.domain:'',options.secure?'; secure':''].join(''))}
var result=key?undefined:{};var cookies=document.cookie?document.cookie.split('; '):[];for(var i=0,l=cookies.length;i<l;i++){var parts=cookies[i].split('=');var name=decode(parts.shift());var cookie=parts.join('=');if(key&&key===name){result=read(cookie,value);break}
if(!key&&(cookie=read(cookie))!==undefined){result[name]=cookie}}
return result};config.defaults={};$.removeCookie=function(key,options){if($.mz_cookie(key)===undefined){return!1}
$.mz_cookie(key,'',$.extend({},options,{expires:-1}));return!$.mz_cookie(key)}}));function finishPreloader(){$('#page-preloader').removeClass('active')}
function pageLoad(content){$(content).find('.nav-tabs.active-first').each(function(){$(this).find('li:first-child a').tab('show')});$(content).find('.accordion.active-first').each(function(){$(this).find('.collapse:first').collapse('show')});$(content).find('[data-line].text-collapsed').textOverflowReadmore();$('.module-deals [data-countdown]').data('compact',0);$(content).find('[data-countdown]').each(function(){if($(this).data('countdown')){var layout=null;if($(this).data('countdown-layout')){layout=$(this).data('countdown-layout')}
$(this).countdown({until:new Date($(this).data('countdown').replace(/-/g,'/')),layout:layout,compact:$(this).data('compact')})}});if($.Lazy!==undefined){$(content).find('.lazy-load').Lazy({effect:"fadeIn",effectTime:300,threshold:1,visibleOnly:!1,beforeLoad:function(img){img.addClass('loader-spinner')},afterLoad:function(img){img.removeClass('loader-spinner')}})}
$(content).find('.content-products .product-layout .carousel-inner, .product-thumb.image-left .carousel-inner').each(function(){$(this).css('max-width',$(this).find('img').prop('naturalWidth'))});$(content).find('.content-articles .article-list .carousel-inner').each(function(){$(this).css('max-width',$(this).find('img').prop('naturalWidth'))});$('[data-toggle="spinner"]').each(function(){var numberInput=$(this).find('[type="number"]');$(this).find('[data-spinner="up"]').on('click',function(){var currentNumber=parseInt(numberInput.val());if($(this).data('max')){var maxNumber=parseInt($(this).data('max'))}else{var maxNumber=-1}
console.log(maxNumber);if(maxNumber<0||currentNumber<maxNumber){numberInput.val(currentNumber+1)}else{numberInput.val(maxNumber)}});$(this).find('[data-spinner="down"]').on('click',function(){var currentNumber=parseInt(numberInput.val());if($(this).data('min')){var minNumber=parseInt($(this).data('min'))}else{var minNumber=1}
if(currentNumber>minNumber){numberInput.val(currentNumber-1)}else{numberInput.val(minNumber)}})})}
$(function(){pageLoad(document);$(document).tooltip({selector:'[data-toggle="tooltip"]',trigger:'hover',container:'body'});$(document).popover({selector:'[data-toggle="popover"]'});$('a[href="'+window.location.href+'"], a[href="'+window.location.href.slice(0,-1)+'"]').addClass('active');$('.currency-select').on('click',function(e){e.preventDefault();$('#form-currency input[name=\'code\']').val($(this).data('code'));$('#form-currency input[name=\'redirect\']').val(window.location.href);$('#form-currency').submit()});$('.language-select').on('click',function(e){e.preventDefault();$('#form-language input[name=\'code\']').val($(this).data('code'));$('#form-language input[name=\'redirect\']').val(window.location.href);$('#form-language').submit()});$('#list-view').on('click',function(){var $class=$('.content-products > .row').data('list');$('.content-products .product-grid').each(function(){$(this).attr('class',$class);if($(this).find('.caption .product-action').length==0){$(this).find('.caption').append($(this).find('.product-action'));$(this).find('.product-action').data('toCaption',!0)}
$(this).find('.text-collapsed').textOverflowReadmore()});$('#grid-view').removeClass('active');$('#list-view').addClass('active');localStorage.setItem('display_'+$('.content-products > .row').data('view_id'),'list')});$('#grid-view').on('click',function(){var $class=$('.content-products > .row').data('grid');$('.content-products .product-list').each(function(){$(this).attr('class',$class);if($(this).find('.product-action').data('toCaption')){$(this).find('.product-thumb-top').append($(this).find('.product-action'))}});$('#list-view').removeClass('active');$('#grid-view').addClass('active');localStorage.setItem('display_'+$('.content-products > .row').data('view_id'),'grid')});var $view=localStorage.getItem('display_'+$('.content-products > .row').data('view_id'));var $default_view=$('.content-products > .row').data('default_view');if($view){$('#'+$view+'-view').trigger('click').addClass('active')}else if($default_view){$('#'+$default_view+'-view').trigger('click').addClass('active')}
mz_sticky.init();$('[data-toggle="mz-pure-drawer"]').on('click',function(e){e.preventDefault();var target=$(this).data('target');if(!target){target=$(this).attr('href')}
if($(target).hasClass('active')){$(target).removeClass('active')}else{$('.mz-pure-drawer.active').removeClass('active');$(target).addClass('active')}});$('.mz-pure-overlay').on('click',function(){$('.mz-pure-drawer').removeClass('active')});$(document).on('keyup',function(e){if(e.key=="Escape"){$('.mz-pure-drawer').removeClass('active')}});$('.entry-design > a[data-toggle]').each(function(){if(!$($(this).attr('href')||$(this).data('target')).length){$(this).parent().remove()}});$('.search-category').each(function(){var ctx=this;$(this).find('.dropdown-item').on('click',function(e){e.preventDefault();$(ctx).find('[data-toggle="dropdown"]').text($(this).text());if($(this).data('category_id')){$(ctx).find('[name="category_id"]').val($(this).data('category_id')).prop('disabled',0)}else{$(ctx).find('[name="category_id"]').val($(this).data('category_id')).prop('disabled',1)}
$(ctx).find('.dropdown-item').removeClass('active');$(this).addClass('active')})});$('#search input[name=\'search\'][data-autocomplete]').searchAutocomplete({dropdown:function(input){return $(input).parents('#search').find('.autocomplete')},source:function(request,response){if($(this).parents('#search').find('[name="category_id"]').length){var category_id=$(this).parents('#search').find('[name="category_id"]').val()}else{var category_id=0}
$.ajax({url:'index.php?route='+$(this).data('autocomplete_route')+'&filter_name='+encodeURIComponent(request)+'&filter_category_id='+(category_id?category_id:0)+'&limit='+$(this).data('autocomplete'),dataType:'html',success:function(html){response(html)}})},response:function(html){if(html){this.show()}else{this.hide()}
this.dropdown.html(html)}});$('.navbar-nav').each(function(){var menu=$(this);var lang_dir=$(document).attr('dir');var align_dropdown_ltr=function(){var dropdown=$(this).offset();if($(this).children('.dropdown-menu').css('position')==='static'){return}
var dropdown_right_space=document.documentElement.clientWidth-(dropdown.left+$(this).outerWidth());var dropdown_menu_width=$(this).children('.dropdown-menu').outerWidth();if(menu.hasClass('vertical')){var open_left=dropdown_right_space<dropdown.left;if(open_left){$(this).removeClass('dropright').addClass('dropleft')}else{$(this).removeClass('dropleft').addClass('dropright')}
if(open_left){var i=dropdown_menu_width-dropdown.left;if(i>0){$(this).children('.dropdown-menu').outerWidth(dropdown.left-15)}}else{var i=dropdown_menu_width-dropdown_right_space;if(i>0){$(this).children('.dropdown-menu').outerWidth(dropdown_right_space-30)}}}else if(!$(this).children('.dropdown-menu').hasClass('full-width')){var overflow_space=dropdown_menu_width-document.documentElement.clientWidth;if(overflow_space>0){$(this).children('.dropdown-menu').outerWidth(document.documentElement.clientWidth-30).css('margin-left','-'+(dropdown.left-15)+'px')}else{var i=(dropdown.left+dropdown_menu_width+15)-document.documentElement.clientWidth;if(i>0){$(this).children('.dropdown-menu').css('margin-left','-'+i+'px')}}}
$(this).on('shown.bs.dropdown',function(){$(this).children('.dropdown-menu').children('.dropdown-submenu').each(align_dropdown_submenu_ltr);$(this).off('shown.bs.dropdown')})};var align_dropdown_rtl=function(){var dropdown=$(this).offset();if($(this).children('.dropdown-menu').css('position')==='static'){return}
var dropdown_right_space=document.documentElement.clientWidth-(dropdown.left+$(this).outerWidth());var dropdown_menu_width=$(this).children('.dropdown-menu').outerWidth();if(menu.hasClass('vertical')){var open_left=dropdown_right_space<dropdown.left;if(open_left){$(this).removeClass('dropleft').addClass('dropright')}else{$(this).removeClass('dropright').addClass('dropleft')}
if(open_left){var i=dropdown_menu_width-dropdown.left;if(i>0){$(this).children('.dropdown-menu').outerWidth(dropdown.left-15)}}else{var i=dropdown_menu_width-dropdown_right_space;if(i>0){$(this).children('.dropdown-menu').outerWidth(dropdown_right_space-30)}}}else if(!$(this).children('.dropdown-menu').hasClass('full-width')){var overflow_space=dropdown_menu_width-document.documentElement.clientWidth;if(overflow_space>0){$(this).children('.dropdown-menu').outerWidth(document.documentElement.clientWidth-30).css('margin-right','-'+(dropdown_right_space-15)+'px')}else{var i=(dropdown_menu_width+15)-dropdown.left;if(i>0){$(this).children('.dropdown-menu').css('margin-right','-'+i+'px')}}}
$(this).on('shown.bs.dropdown',function(){$(this).children('.dropdown-menu').children('.dropdown-submenu').each(align_dropdown_submenu_rtl);$(this).off('shown.bs.dropdown')})};$(this).parent('.navbar-collapse:not(.show)').on('shown.bs.collapse',function(){$(this).find('.dropdown').each(lang_dir==='rtl'?align_dropdown_rtl:align_dropdown_ltr);$(this).off('shown.bs.collapse')});$(this).find('.dropdown').each(lang_dir==='rtl'?align_dropdown_rtl:align_dropdown_ltr);var align_dropdown_submenu_ltr=function(){var dropdown=$(this).offset();if($(this).children('.dropdown-menu').css('position')==='static'){return}
var dropdown_right_space=document.documentElement.clientWidth-(dropdown.left+$(this).outerWidth());var dropdown_menu_width=$(this).children('.dropdown-menu').outerWidth();var open_left=dropdown_right_space<dropdown_menu_width&&dropdown_right_space<dropdown.left;if(open_left){$(this).removeClass('dropright').addClass('dropleft')}else{$(this).removeClass('dropleft').addClass('dropright')}
if(open_left){var i=dropdown_menu_width-dropdown.left;if(i>0){$(this).children('.dropdown-menu').outerWidth(dropdown.left-15)}}else{var i=dropdown_menu_width-dropdown_right_space;if(i>0){$(this).children('.dropdown-menu').outerWidth(dropdown_right_space-30)}}};var align_dropdown_submenu_rtl=function(){var dropdown=$(this).offset();if($(this).children('.dropdown-menu').css('position')==='static'){return}
var dropdown_right_space=document.documentElement.clientWidth-(dropdown.left+$(this).outerWidth());var dropdown_menu_width=$(this).children('.dropdown-menu').outerWidth();var open_right=dropdown.left<dropdown_menu_width&&dropdown.left<dropdown_right_space;if(open_right){$(this).removeClass('dropright').addClass('dropleft')}else{$(this).removeClass('dropleft').addClass('dropright')}
if(open_right){var i=dropdown_menu_width-dropdown_right_space;if(i>0){$(this).children('.dropdown-menu').outerWidth(dropdown_right_space-30)}}else{var i=dropdown_menu_width-dropdown.left;if(i>0){$(this).children('.dropdown-menu').outerWidth(dropdown.left-15)}}};$(this).find('.dropdown-menu a.dropdown-toggle').on('click',function(e){if(!$(this).next().hasClass('show')){$(this).parents('.dropdown-menu').first().find('.show').removeClass("show")}
var $subMenu=$(this).next(".dropdown-menu");$subMenu.toggleClass('show');$(this).parents('li.nav-item.dropdown.show').on('hidden.bs.dropdown',function(e){$('.dropdown-submenu .show').removeClass("show")});$subMenu.children('.dropdown-submenu').each(lang_dir==='rtl'?align_dropdown_submenu_rtl:align_dropdown_submenu_ltr);return!1})});$('.dropdown-menu.mega-menu-content').on('click',function(event){var events=$._data(document,'events')||{};events=events.click||[];for(var i=0;i<events.length;i++){if(events[i].selector){if($(event.target).is(events[i].selector)){events[i].handler.call(event.target,event)}
$(event.target).parents(events[i].selector).each(function(){events[i].handler.call(this,event)})}}
event.stopPropagation()});$('.header .navbar-collapse .dropdown').on('show.bs.dropdown',function(){$(this).parents('.navbar-collapse').addClass('menu-active')});$('.header .navbar-collapse .dropdown').on('hidden.bs.dropdown',function(){$(this).parents('.navbar-collapse').removeClass('menu-active')});$('.navbar.hoverable .dropdown-hoverable').hover(function(){var dropdown=$(this).children('.dropdown-menu');if(!dropdown.hasClass('show')&&dropdown.css('position')!=='static'){$(this).children('.dropdown-toggle').click()}},function(){var dropdown=$(this).children('.dropdown-menu');if(dropdown.hasClass('show')&&dropdown.css('position')!=='static'){$(this).children('.dropdown-toggle').click()}});$('.navbar.hoverable .dropdown-hoverable > a[href].dropdown-toggle').on('mousedown',function(){var link=$(this).attr('href');if(link&&$(this).next('.dropdown-menu').css('position')!=='static'){location.href=link}})});(function($){$.fn.searchAutocomplete=function(option){return this.each(function(){this.timer=null;this.items=new Array();$.extend(this,option);this.dropdown=option.dropdown(this);$(this).attr('autocomplete','off');$(this).on('focus',function(){this.request()});$(this).on('blur',function(){setTimeout(function(object){object.hide()},200,this)});$(this).on('keydown',function(event){switch(event.keyCode){case 27:this.hide();break;default:this.request();break}});this.show=function(){this.dropdown.show()};this.hide=function(){this.dropdown.hide()};this.request=function(){clearTimeout(this.timer);this.timer=setTimeout(function(object){object.source($(object).val(),$.proxy(object.response,object))},200,this)}})};$.fn.mz_tabSlider=function(setting){var tab_listing_context=$(this);tab_listing_context.swiper_container=tab_listing_context.find('.tab-pane.active > .swiper-container');var prev_button=$(this).find('.mz-swiper-nav-prev, .swiper-button-prev');prev_button.on('click',function(){tab_listing_context.swiper_container.data('swiper').slidePrev()});var next_button=$(this).find('.mz-swiper-nav-next, .swiper-button-next');next_button.on('click',function(){tab_listing_context.swiper_container.data('swiper').slideNext()});tab_listing_context.updateNav=function(){var swiper=tab_listing_context.swiper_container.data('swiper');if(swiper.isBeginning){prev_button.addClass('swiper-button-disabled')}else{prev_button.removeClass('swiper-button-disabled')}
if(swiper.isEnd){next_button.addClass('swiper-button-disabled')}else{next_button.removeClass('swiper-button-disabled')}
if(swiper.isBeginning&&swiper.isEnd){next_button.parent().hide()}else{next_button.parent().show()}};$.extend(setting,{loop:!1,disableOnInteraction:!0,pagination:!1,observer:!0,observeParents:!0,autoHeight:setting.slidesPerColumn==1,onSlideNextEnd:function(swiper){$(swiper.slides[swiper.activeIndex]).find('img.lazy-load').each(function(){$(this).data("plugin_lazy").update()});prev_button.removeClass('swiper-button-disabled')},onSlidePrevEnd:function(swiper){next_button.removeClass('swiper-button-disabled')},onReachBeginning:function(_){prev_button.addClass('swiper-button-disabled')},onReachEnd:function(_){next_button.addClass('swiper-button-disabled')},});tab_listing_context.initSwiper=function(swiper_container){swiper_container.swiper(setting);tab_listing_context.updateNav()};tab_listing_context.initSwiper(tab_listing_context.swiper_container);tab_listing_context.find('.nav-tabs').on('shown.bs.tab',function(){tab_listing_context.swiper_container=tab_listing_context.find('.tab-pane.active > .swiper-container');if(!tab_listing_context.swiper_container.data('swiper')){tab_listing_context.initSwiper(tab_listing_context.swiper_container)}else{tab_listing_context.updateNav()}})};$.fn.textOverflowReadmore=function(setting){$(this).each(function(){var _setting=$.extend({lines:$(this).data('line'),showtext:$(this).data('showtext'),hidetext:$(this).data('hidetext'),expandOnly:$(this).data('expandonly'),overflow:$(this).data('overflow'),onChanged:function(){}},setting);var line_height=0;var visible_height=0;var text=$(this);var _ctx=this;this.mz_readmore={};this.mz_readmore.destroy=function(){text.css('max-height','none');text.find('.block-toggle').remove();text.removeClass('expand');$(_ctx).undelegate('a.text-toggle','click');return _ctx};this.mz_readmore.init=function(){_ctx.mz_readmore.destroy();line_height=Math.ceil(parseFloat($(_ctx).css('lineHeight')));visible_height=line_height*parseInt(_setting.lines);if((text.height()>visible_height)||_setting.overflow){text.css('max-height',visible_height);text.append('<div class="block-toggle"><a href="#" class="text-toggle badge badge-secondary">'+_setting.showtext+'</a></div>')}else{text.addClass('expand')}
return _ctx};this.mz_readmore.init();var textToggle=text.find('a.text-toggle');this.mz_readmore.textExpand=function(){text.css('max-height','none').addClass('expand');textToggle.html(_setting.hidetext);if(_setting.expandOnly){_ctx.mz_readmore.destroy()}
_setting.onChanged(_ctx);return _ctx};this.mz_readmore.textCollapse=function(){text.css('max-height',visible_height).removeClass('expand');textToggle.html(_setting.showtext);_setting.onChanged(_ctx);return _ctx};$(this).delegate('a.text-toggle','click',function(e){e.preventDefault();if(text.hasClass('expand')){_ctx.mz_readmore.textCollapse()}else{_ctx.mz_readmore.textExpand()}})})}})(window.jQuery);var cart={'add':function(product_id,quantity){$.ajax({url:'index.php?route=checkout/cart/add',type:'post',data:'product_id='+product_id+'&quantity='+(typeof(quantity)!='undefined'?quantity:1),dataType:'json',beforeSend:function(){$('.cart-'+product_id).addClass('loading').closest('.product-action').addClass('loading')},complete:function(){$('.cart-'+product_id).removeClass('loading');if(!$('.cart-'+product_id).closest('.product-action').find('button.loading').length){$('.cart-'+product_id).closest('.product-action').removeClass('loading')}},success:function(json){if(json.redirect){mz_quick_view.show(product_id)}
if(json.success){var toast=$(json.toast);$('#notification-box-top').append(toast);toast.toast('show');toast.on('hidden.bs.toast',function(){toast.remove()});setTimeout(function(){$('.cart').each(function(){$(this).find('.cart-items').text(json.total);var regex=new RegExp('^'+$(this).data('total_format')+'$');var total=regex.exec(json.total);if(total!=null){$(this).find('.cart-icon .cart-item-total').text(total[1]);$(this).find('.cart-info .cart-item-total').text('('+total[1]+')')}})},100)}},error:function(xhr,ajaxOptions,thrownError){alert(thrownError+"\r\n"+xhr.statusText+"\r\n"+xhr.responseText)}})},'update':function(key,quantity){$.ajax({url:'index.php?route=checkout/cart/edit',type:'post',data:'key='+key+'&quantity='+(typeof(quantity)!='undefined'?quantity:1),dataType:'json',beforeSend:function(){},complete:function(){},success:function(json){location.reload()},error:function(xhr,ajaxOptions,thrownError){alert(thrownError+"\r\n"+xhr.statusText+"\r\n"+xhr.responseText)}})},'remove':function(key){$.ajax({url:'index.php?route=checkout/cart/remove',type:'post',data:'key='+key,dataType:'json',beforeSend:function(){},complete:function(){},success:function(json){location.reload()},error:function(xhr,ajaxOptions,thrownError){alert(thrownError+"\r\n"+xhr.statusText+"\r\n"+xhr.responseText)}})}};var voucher={'add':function(){},'remove':function(key){$.ajax({url:'index.php?route=checkout/cart/remove',type:'post',data:'key='+key,dataType:'json',beforeSend:function(){},complete:function(){},success:function(json){location.reload()},error:function(xhr,ajaxOptions,thrownError){alert(thrownError+"\r\n"+xhr.statusText+"\r\n"+xhr.responseText)}})}};var wishlist={'add':function(product_id,by){if(by!==undefined&&$(by).data('wishlist')){return this.remove(product_id)}
$.ajax({url:'index.php?route=account/wishlist/add',type:'post',data:'product_id='+product_id,dataType:'json',beforeSend:function(){$('.wishlist-'+product_id).addClass('loading').closest('.product-action').addClass('loading')},success:function(json){$('.wishlist-'+product_id).removeClass('loading');if(!$('.wishlist-'+product_id).closest('.product-action').find('button.loading').length){$('.wishlist-'+product_id).closest('.product-action').removeClass('loading')}
if(json.success){$('#quick-view').modal('hide');var toast=$(json.toast);if(!json.success.match(/account\/login/g)){$('.wishlist-'+product_id).addClass('wished').data('wishlist',1)}
$('#notification-box-top').append(toast);toast.toast('show');toast.on('hidden.bs.toast',function(){toast.remove()})}
$('#wishlist-total span').html(json.total);$('#wishlist-total').attr('title',json.total)},error:function(xhr,ajaxOptions,thrownError){alert(thrownError+"\r\n"+xhr.statusText+"\r\n"+xhr.responseText)}})},'remove':function(product_id){$.ajax({url:'index.php?route=extension/maza/account/wishlist/remove',type:'post',data:'product_id='+product_id,dataType:'json',beforeSend:function(){$('.wishlist-'+product_id).addClass('loading').closest('.product-action').addClass('loading')},success:function(json){$('.wishlist-'+product_id).removeClass('loading');if(!$('.wishlist-'+product_id).closest('.product-action').find('button.loading').length){$('.wishlist-'+product_id).closest('.product-action').removeClass('loading')}
$('.alert-dismissible').remove();$('.wishlist-'+product_id).removeClass('wished').data('wishlist',0);$('.wishlist-total').html(json.total);$('.wishlist-total').attr('title',json.total)},error:function(xhr,ajaxOptions,thrownError){alert(thrownError+"\r\n"+xhr.statusText+"\r\n"+xhr.responseText)}})}};var compare={'add':function(product_id,by){if(by!==undefined&&$(by).data('compare')){return this.remove(product_id)}
$.ajax({url:'index.php?route=product/compare/add',type:'post',data:'product_id='+product_id,dataType:'json',beforeSend:function(){$('.compare-'+product_id).addClass('loading').closest('.product-action').addClass('loading')},success:function(json){$('.compare-'+product_id).removeClass('loading');if(!$('.compare-'+product_id).closest('.product-action').find('button.loading').length){$('.compare-'+product_id).closest('.product-action').removeClass('loading')}
if(json.success){$('#quick-view').modal('hide');var toast=$(json.toast);$('#notification-box-top').append(toast);toast.toast('show');toast.on('hidden.bs.toast',function(){toast.remove()});$('.compare-'+product_id).addClass('compared').data('compare',1);$('.compare-total').text(json.total);$('.compare-total').attr('title',json.total)}},error:function(xhr,ajaxOptions,thrownError){alert(thrownError+"\r\n"+xhr.statusText+"\r\n"+xhr.responseText)}})},'remove':function(product_id){$.ajax({url:'index.php?route=extension/maza/product/compare/remove',type:'post',data:'product_id='+product_id,dataType:'json',beforeSend:function(){$('.compare-'+product_id).addClass('loading').closest('.product-action').addClass('loading')},success:function(json){$('.compare-'+product_id).removeClass('loading');if(!$('.compare-'+product_id).closest('.product-action').find('button.loading').length){$('.compare-'+product_id).closest('.product-action').removeClass('loading')}
$('.compare-'+product_id).removeClass('compared').data('compare',0)},error:function(xhr,ajaxOptions,thrownError){alert(thrownError+"\r\n"+xhr.statusText+"\r\n"+xhr.responseText)}})}};$(document).on('click','.agree',function(e){e.preventDefault();$('#modal-agree').remove();var element=this;$.ajax({url:$(element).attr('href'),type:'get',dataType:'html',success:function(data){var html='<div id="modal-agree" class="modal">';html+='  <div class="modal-dialog modal-dialog-centered">';html+='    <div class="modal-content">';html+='      <div class="modal-header">';html+='        <h4 class="modal-title">'+$(element).text()+'</h4>';html+='        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>';html+='      </div>';html+='      <div class="modal-body">'+data+'</div>';html+='    </div>';html+='  </div>';html+='</div>';$('body').append(html);$('#modal-agree').modal('show')}})});(function($){$.fn.autocomplete=function(option){return this.each(function(){this.timer=null;this.items=new Array();$.extend(this,option);$(this).attr('autocomplete','off');$(this).on('focus',function(){this.request()});$(this).on('blur',function(){setTimeout(function(object){object.hide()},200,this)});$(this).on('keydown',function(event){switch(event.keyCode){case 27:this.hide();break;default:this.request();break}});this.click=function(event){event.preventDefault();var value=$(event.target).parent().attr('data-value');if(value&&this.items[value]){this.select(this.items[value])}}
this.show=function(){var pos=$(this).position();$(this).siblings('ul.dropdown-menu').css({top:pos.top+$(this).outerHeight(),left:pos.left});$(this).siblings('ul.dropdown-menu').show()}
this.hide=function(){$(this).siblings('ul.dropdown-menu').hide()}
this.request=function(){clearTimeout(this.timer);this.timer=setTimeout(function(object){object.source($(object).val(),$.proxy(object.response,object))},200,this)}
this.response=function(json){var html='';if(json.length){for(var i=0;i<json.length;i++){this.items[json[i].value]=json[i]}
for(var i=0;i<json.length;i++){if(!json[i].category){html+='<li class="dropdown-item" data-value="'+json[i].value+'"><a href="#">'+json[i].label+'</a></li>'}}
var category=new Array();for(var i=0;i<json.length;i++){if(json[i].category){if(!category[json[i].category]){category[json[i].category]=new Array();category[json[i].category].name=json[i].category;category[json[i].category].item=new Array()}
category[json[i].category].item.push(json[i])}}
for(var i in category){html+='<li class="dropdown-header">'+category[i].name+'</li>';for(j=0;j<category[i].item.length;j++){html+='<li data-value="'+category[i].item[j].value+'"><a href="#">&nbsp;&nbsp;&nbsp;'+category[i].item[j].label+'</a></li>'}}}
if(html){this.show()}else{this.hide()}
$(this).siblings('ul.dropdown-menu').html(html)}
$(this).after('<ul class="dropdown-menu"></ul>');$(this).siblings('ul.dropdown-menu').delegate('a','click',$.proxy(this.click,this))})}})(window.jQuery);var mz_quick_view={show:function(product_id){$('#quick-view').modal('show');this.loadData(product_id)},loadData:function(product_id){$.ajax({url:'index.php?route=extension/maza/product/quick_view&product_id='+product_id,type:'post',data:'product_id='+product_id,dataType:'html',beforeSend:function(){$('#quick-view .modal-content').addClass('loading')},success:function(html){$('#quick-view .modal-content').removeClass('loading');$('#quick-view .modal-body').html(html);pageLoad($('#quick-view .modal-body'))},error:function(xhr,ajaxOptions,thrownError){alert(thrownError+"\r\n"+xhr.statusText+"\r\n"+xhr.responseText)}})}};$('#quick-view').on('hide.bs.modal',function(){$(this).find('[data-countdown]').countdown('destroy')});var newsletter={button:!1,subscribe:function(submit_btn){this.button=submit_btn;this.request('index.php?route=extension/maza/newsletter/subscribe')},unsubscribe:function(submit_btn){this.button=submit_btn;this.request('index.php?route=extension/maza/newsletter/unsubscribe')},request:function(url){var _this=this;$.ajax({url:url,type:'post',data:'newsletter_email='+$(this.button).parents('form').find('input[name="newsletter_email"]').val(),dataType:'json',beforeSend:function(){$(_this.button).addClass('loading');$(_this.button).prepend('<span class="spinner-grow spinner-grow-sm" role="status" aria-hidden="true"></span>')},success:function(json){$('.alert-dismissible').remove();if(json.success){var modal=$(_this.button).parents('.modal');if(modal.length>0)modal.modal('hide');var toast=$('<div class="toast m-3" role="alert" aria-live="assertive" aria-atomic="true" data-delay="10000"><p class="toast-body"><i class="fas fa-thumbs-up"></i> '+json.success+'</p>')}
if(json.error){var toast=$('<div class="toast m-3" role="alert" aria-live="assertive" aria-atomic="true" data-delay="10000"><p class="toast-body"><i class="fas fa-exclamation-circle"></i> '+json.error+'</p>')}
$('#notification-box-top').append(toast);toast.toast('show')
toast.on('hidden.bs.toast',function(){toast.remove()})},complete:function(){$(_this.button).removeClass('loading');$(_this.button).children('.spinner-grow').remove()},error:function(xhr,ajaxOptions,thrownError){alert(thrownError+"\r\n"+xhr.statusText+"\r\n"+xhr.responseText)}})}};var mz_sticky={targets:[],active:[],offsetY:0,zIndex:1030,animationQ:[],init:function(){this.targets=[];$('[data-toggle="sticky"]').each(function(){mz_sticky.targets.push({offsetTop:this.offsetTop,element:this,isActive:!1,})});this.reset();window.addEventListener("resize",this.reset);window.addEventListener("scroll",this.scroll)},_build:function(_target){var stickyUp=Number($(_target.element).data('stickyUp'));if(stickyUp<=window.screen.width){mz_sticky.active.push(_target)}},reset:function(){mz_sticky.offsetY=0;mz_sticky.active=[];mz_sticky.targets.forEach(mz_sticky._build)},animationComplete:function(){mz_sticky.animationQ.shift();if(mz_sticky.animationQ.length>0){mz_sticky.makeSticky(mz_sticky.animationQ[0].el,mz_sticky.animationQ[0].offsetY)}},scroll:function(){mz_sticky.active.forEach(function(target,i){var el=target.element;var height=el.offsetHeight;var sticky=height+target.offsetTop+window.innerHeight*0.8;if((window.pageYOffset>sticky)&&!target.isActive){target.isActive=!0;el.style.zIndex=mz_sticky.zIndex-i;if(mz_sticky.animationQ.length==0){mz_sticky.makeSticky(el,mz_sticky.offsetY)}
mz_sticky.animationQ.push({el:el,offsetY:mz_sticky.offsetY});mz_sticky.offsetY+=height}else if((window.pageYOffset<sticky)&&target.isActive){target.isActive=!1;mz_sticky.offsetY-=height;el.classList.remove('mz-sticky','shadow');mz_sticky.onStateChanged()}})},makeSticky:function(el,offset){el.style.top=(offset-el.offsetHeight)+'px';el.classList.add('mz-sticky','shadow');$(el).animate({top:offset},300,mz_sticky.animationComplete);mz_sticky.onStateChanged()},onStateChanged:function(){var activeSticky=mz_sticky.active.filter(function(a){return a.element.classList.contains('mz-sticky')});var stickyHeight=activeSticky.reduce(function(total,val){return total+val.element.offsetHeight},0);document.body.style.paddingTop=stickyHeight+'px';mz_sticky.active.forEach(function(a){a.element.classList.remove('shadow')});if(activeSticky.length>0){activeSticky[activeSticky.length-1].element.classList.add('shadow')}}};function mz_sendMessage(form){var button_submit=$(form).find('[type="submit"]');var button_text_org=button_submit.html();$.ajax({url:'index.php?route=extension/mz_widget/contact_form/submit',type:'post',data:$(form).serialize(),dataType:'json',beforeSend:function(){button_submit.addClass('loading');button_submit.html('<span class="spinner-grow spinner-grow-sm" role="status" aria-hidden="true"></span>'+button_submit.data('loading'))},success:function(json){$('.alert-dismissible').remove();$(form).find('.error').remove();if(json.success){var modal=$(form).parents('.modal');if(modal.length>0)modal.modal('hide');var alert=$('<div class="alert alert-success alert-notification w-50 alert-dismissible"><i class="fa fa-check-circle"></i> '+json.success+' <button type="button" class="close" data-dismiss="alert">&times;</button></div>');$('body').append(alert);setTimeout(function(){alert.hide("slow")},10000)}
if(json.error){if(json.error.name){$(form).find('[name="name"]').after('<div class="error text-danger">'+json.error.name+'</div>')}
if(json.error.email){$(form).find('[name="email"]').after('<div class="error text-danger">'+json.error.email+'</div>')}
if(json.error.subject){$(form).find('[name="subject"]').after('<div class="error text-danger">'+json.error.subject+'</div>')}
if(json.error.message){$(form).find('[name="message"]').after('<div class="error text-danger">'+json.error.message+'</div>')}
if(json.error.captcha){$(form).find('[name="captcha"]').after('<div class="error text-danger">'+json.error.captcha+'</div>')}}},complete:function(){button_submit.removeClass('loading');button_submit.html(button_text_org)},error:function(xhr,ajaxOptions,thrownError){alert(thrownError+"\r\n"+xhr.statusText+"\r\n"+xhr.responseText)}})}
function widgetMap(){$('.google-map').each(function(){var latitude=$(this).data('latitude');var longitude=$(this).data('longitude');var map=new google.maps.Map(this,{center:{lat:latitude,lng:longitude},zoom:$(this).data('zoom'),zoomControl:$(this).data('zoomcontrol'),mapTypeControl:$(this).data('maptypecontrol'),scaleControl:$(this).data('scalecontrol'),streetViewControl:$(this).data('streetviewcontrol'),rotateControl:$(this).data('rotatecontrol'),fullscreenControl:$(this).data('fullscreencontrol')});if($(this).data('marker')){var map_marker=new google.maps.Marker({position:{lat:latitude,lng:longitude},map:map,animation:google.maps.Animation.DROP,icon:$(this).data('marker_icon')})}})}
$('form.ajax-form').on('submit',function(e){e.preventDefault();var form=$(this);var button_submit=$(this).find('[type="submit"]');var button_text_org=button_submit.html();$.ajax({type:"POST",url:form.attr('action'),enctype:form.attr('enctype'),data:new FormData(this),processData:!1,contentType:!1,dataType:'json',beforeSend:function(){button_submit.addClass('loading');button_submit.html('<span class="spinner-grow spinner-grow-sm" role="status" aria-hidden="true"></span>'+button_submit.data('loading'));form.find('.invalid-feedback').remove();form.find('.is-invalid').removeClass('is-invalid')},success:function(json){if(json.success){var modal=$(form).parents('.modal');if(modal.length>0)modal.modal('hide');var toast=$('<div class="toast m-3" role="alert" aria-live="assertive" aria-atomic="true" data-delay="10000"><div class="toast-header"><span class="mr-auto">'+json.title+'</span><button type="button" class="ml-2 mb-1 close" data-dismiss="toast" aria-label="Close"><span aria-hidden="true">&times;</span></button></div><p class="toast-body"><i class="fas fa-thumbs-up"></i> '+json.success+'</p>');$('#notification-box-top').append(toast);toast.toast('show')
toast.on('hidden.bs.toast',function(){toast.remove()})}
if(json.error){for(var name in json.error){form.find('[name="'+name+'"]').addClass('is-invalid').after('<div class="invalid-feedback">'+json.error[name]+'</div>')}}},complete:function(){button_submit.removeClass('loading');button_submit.html(button_text_org)},error:function(xhr,ajaxOptions,thrownError){alert(thrownError+"\r\n"+xhr.statusText+"\r\n"+xhr.responseText)}})});
/*! jQuery UI - v1.12.1 - 2018-10-29
* http://jqueryui.com
* Includes: widget.js, data.js, keycode.js, scroll-parent.js, widgets/draggable.js, widgets/droppable.js, widgets/mouse.js, widgets/slider.js
* Copyright jQuery Foundation and other contributors; Licensed MIT */

(function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)})(function(t){t.ui=t.ui||{},t.ui.version="1.12.1";var e=0,i=Array.prototype.slice;t.cleanData=function(e){return function(i){var s,n,o;for(o=0;null!=(n=i[o]);o++)try{s=t._data(n,"events"),s&&s.remove&&t(n).triggerHandler("remove")}catch(a){}e(i)}}(t.cleanData),t.widget=function(e,i,s){var n,o,a,r={},l=e.split(".")[0];e=e.split(".")[1];var h=l+"-"+e;return s||(s=i,i=t.Widget),t.isArray(s)&&(s=t.extend.apply(null,[{}].concat(s))),t.expr[":"][h.toLowerCase()]=function(e){return!!t.data(e,h)},t[l]=t[l]||{},n=t[l][e],o=t[l][e]=function(t,e){return this._createWidget?(arguments.length&&this._createWidget(t,e),void 0):new o(t,e)},t.extend(o,n,{version:s.version,_proto:t.extend({},s),_childConstructors:[]}),a=new i,a.options=t.widget.extend({},a.options),t.each(s,function(e,s){return t.isFunction(s)?(r[e]=function(){function t(){return i.prototype[e].apply(this,arguments)}function n(t){return i.prototype[e].apply(this,t)}return function(){var e,i=this._super,o=this._superApply;return this._super=t,this._superApply=n,e=s.apply(this,arguments),this._super=i,this._superApply=o,e}}(),void 0):(r[e]=s,void 0)}),o.prototype=t.widget.extend(a,{widgetEventPrefix:n?a.widgetEventPrefix||e:e},r,{constructor:o,namespace:l,widgetName:e,widgetFullName:h}),n?(t.each(n._childConstructors,function(e,i){var s=i.prototype;t.widget(s.namespace+"."+s.widgetName,o,i._proto)}),delete n._childConstructors):i._childConstructors.push(o),t.widget.bridge(e,o),o},t.widget.extend=function(e){for(var s,n,o=i.call(arguments,1),a=0,r=o.length;r>a;a++)for(s in o[a])n=o[a][s],o[a].hasOwnProperty(s)&&void 0!==n&&(e[s]=t.isPlainObject(n)?t.isPlainObject(e[s])?t.widget.extend({},e[s],n):t.widget.extend({},n):n);return e},t.widget.bridge=function(e,s){var n=s.prototype.widgetFullName||e;t.fn[e]=function(o){var a="string"==typeof o,r=i.call(arguments,1),l=this;return a?this.length||"instance"!==o?this.each(function(){var i,s=t.data(this,n);return"instance"===o?(l=s,!1):s?t.isFunction(s[o])&&"_"!==o.charAt(0)?(i=s[o].apply(s,r),i!==s&&void 0!==i?(l=i&&i.jquery?l.pushStack(i.get()):i,!1):void 0):t.error("no such method '"+o+"' for "+e+" widget instance"):t.error("cannot call methods on "+e+" prior to initialization; "+"attempted to call method '"+o+"'")}):l=void 0:(r.length&&(o=t.widget.extend.apply(null,[o].concat(r))),this.each(function(){var e=t.data(this,n);e?(e.option(o||{}),e._init&&e._init()):t.data(this,n,new s(o,this))})),l}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(i,s){s=t(s||this.defaultElement||this)[0],this.element=t(s),this.uuid=e++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=t(),this.hoverable=t(),this.focusable=t(),this.classesElementLookup={},s!==this&&(t.data(s,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===s&&this.destroy()}}),this.document=t(s.style?s.ownerDocument:s.document||s),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this.options=t.widget.extend({},this.options,this._getCreateOptions(),i),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){var e=this;this._destroy(),t.each(this.classesElementLookup,function(t,i){e._removeClass(i,t)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:t.noop,widget:function(){return this.element},option:function(e,i){var s,n,o,a=e;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof e)if(a={},s=e.split("."),e=s.shift(),s.length){for(n=a[e]=t.widget.extend({},this.options[e]),o=0;s.length-1>o;o++)n[s[o]]=n[s[o]]||{},n=n[s[o]];if(e=s.pop(),1===arguments.length)return void 0===n[e]?null:n[e];n[e]=i}else{if(1===arguments.length)return void 0===this.options[e]?null:this.options[e];a[e]=i}return this._setOptions(a),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return"classes"===t&&this._setOptionClasses(e),this.options[t]=e,"disabled"===t&&this._setOptionDisabled(e),this},_setOptionClasses:function(e){var i,s,n;for(i in e)n=this.classesElementLookup[i],e[i]!==this.options.classes[i]&&n&&n.length&&(s=t(n.get()),this._removeClass(n,i),s.addClass(this._classes({element:s,keys:i,classes:e,add:!0})))},_setOptionDisabled:function(t){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!t),t&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(e){function i(i,o){var a,r;for(r=0;i.length>r;r++)a=n.classesElementLookup[i[r]]||t(),a=e.add?t(t.unique(a.get().concat(e.element.get()))):t(a.not(e.element).get()),n.classesElementLookup[i[r]]=a,s.push(i[r]),o&&e.classes[i[r]]&&s.push(e.classes[i[r]])}var s=[],n=this;return e=t.extend({element:this.element,classes:this.options.classes||{}},e),this._on(e.element,{remove:"_untrackClassesElement"}),e.keys&&i(e.keys.match(/\S+/g)||[],!0),e.extra&&i(e.extra.match(/\S+/g)||[]),s.join(" ")},_untrackClassesElement:function(e){var i=this;t.each(i.classesElementLookup,function(s,n){-1!==t.inArray(e.target,n)&&(i.classesElementLookup[s]=t(n.not(e.target).get()))})},_removeClass:function(t,e,i){return this._toggleClass(t,e,i,!1)},_addClass:function(t,e,i){return this._toggleClass(t,e,i,!0)},_toggleClass:function(t,e,i,s){s="boolean"==typeof s?s:i;var n="string"==typeof t||null===t,o={extra:n?e:i,keys:n?t:e,element:n?this.element:t,add:s};return o.element.toggleClass(this._classes(o),s),this},_on:function(e,i,s){var n,o=this;"boolean"!=typeof e&&(s=i,i=e,e=!1),s?(i=n=t(i),this.bindings=this.bindings.add(i)):(s=i,i=this.element,n=this.widget()),t.each(s,function(s,a){function r(){return e||o.options.disabled!==!0&&!t(this).hasClass("ui-state-disabled")?("string"==typeof a?o[a]:a).apply(o,arguments):void 0}"string"!=typeof a&&(r.guid=a.guid=a.guid||r.guid||t.guid++);var l=s.match(/^([\w:-]*)\s*(.*)$/),h=l[1]+o.eventNamespace,c=l[2];c?n.on(h,c,r):i.on(h,r)})},_off:function(e,i){i=(i||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.off(i).off(i),this.bindings=t(this.bindings.not(e).get()),this.focusable=t(this.focusable.not(e).get()),this.hoverable=t(this.hoverable.not(e).get())},_delay:function(t,e){function i(){return("string"==typeof t?s[t]:t).apply(s,arguments)}var s=this;return setTimeout(i,e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){this._addClass(t(e.currentTarget),null,"ui-state-hover")},mouseleave:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){this._addClass(t(e.currentTarget),null,"ui-state-focus")},focusout:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-focus")}})},_trigger:function(e,i,s){var n,o,a=this.options[e];if(s=s||{},i=t.Event(i),i.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),i.target=this.element[0],o=i.originalEvent)for(n in o)n in i||(i[n]=o[n]);return this.element.trigger(i,s),!(t.isFunction(a)&&a.apply(this.element[0],[i].concat(s))===!1||i.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,i){t.Widget.prototype["_"+e]=function(s,n,o){"string"==typeof n&&(n={effect:n});var a,r=n?n===!0||"number"==typeof n?i:n.effect||i:e;n=n||{},"number"==typeof n&&(n={duration:n}),a=!t.isEmptyObject(n),n.complete=o,n.delay&&s.delay(n.delay),a&&t.effects&&t.effects.effect[r]?s[e](n):r!==e&&s[r]?s[r](n.duration,n.easing,o):s.queue(function(i){t(this)[e](),o&&o.call(s[0]),i()})}}),t.widget,t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo(function(e){return function(i){return!!t.data(i,e)}}):function(e,i,s){return!!t.data(e,s[3])}}),t.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38},t.fn.scrollParent=function(e){var i=this.css("position"),s="absolute"===i,n=e?/(auto|scroll|hidden)/:/(auto|scroll)/,o=this.parents().filter(function(){var e=t(this);return s&&"static"===e.css("position")?!1:n.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))}).eq(0);return"fixed"!==i&&o.length?o:t(this[0].ownerDocument||document)},t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());var s=!1;t(document).on("mouseup",function(){s=!1}),t.widget("ui.mouse",{version:"1.12.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.on("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).on("click."+this.widgetName,function(i){return!0===t.data(i.target,e.widgetName+".preventClickEvent")?(t.removeData(i.target,e.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(e){if(!s){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(e),this._mouseDownEvent=e;var i=this,n=1===e.which,o="string"==typeof this.options.cancel&&e.target.nodeName?t(e.target).closest(this.options.cancel).length:!1;return n&&!o&&this._mouseCapture(e)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){i.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(e)!==!1,!this._mouseStarted)?(e.preventDefault(),!0):(!0===t.data(e.target,this.widgetName+".preventClickEvent")&&t.removeData(e.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return i._mouseMove(t)},this._mouseUpDelegate=function(t){return i._mouseUp(t)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),e.preventDefault(),s=!0,!0)):!0}},_mouseMove:function(e){if(this._mouseMoved){if(t.ui.ie&&(!document.documentMode||9>document.documentMode)&&!e.button)return this._mouseUp(e);if(!e.which)if(e.originalEvent.altKey||e.originalEvent.ctrlKey||e.originalEvent.metaKey||e.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(e)}return(e.which||e.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,e)!==!1,this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(e){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&t.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,s=!1,e.preventDefault()},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),t.ui.plugin={add:function(e,i,s){var n,o=t.ui[e].prototype;for(n in s)o.plugins[n]=o.plugins[n]||[],o.plugins[n].push([i,s[n]])},call:function(t,e,i,s){var n,o=t.plugins[e];if(o&&(s||t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType))for(n=0;o.length>n;n++)t.options[o[n][0]]&&o[n][1].apply(t.element,i)}},t.ui.safeActiveElement=function(t){var e;try{e=t.activeElement}catch(i){e=t.body}return e||(e=t.body),e.nodeName||(e=t.body),e},t.ui.safeBlur=function(e){e&&"body"!==e.nodeName.toLowerCase()&&t(e).trigger("blur")},t.widget("ui.draggable",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this._addClass("ui-draggable"),this._setHandleClassName(),this._mouseInit()},_setOption:function(t,e){this._super(t,e),"handle"===t&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){return(this.helper||this.element).is(".ui-draggable-dragging")?(this.destroyOnClear=!0,void 0):(this._removeHandleClassName(),this._mouseDestroy(),void 0)},_mouseCapture:function(e){var i=this.options;return this.helper||i.disabled||t(e.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(e),this.handle?(this._blurActiveElement(e),this._blockFrames(i.iframeFix===!0?"iframe":i.iframeFix),!0):!1)},_blockFrames:function(e){this.iframeBlocks=this.document.find(e).map(function(){var e=t(this);return t("<div>").css("position","absolute").appendTo(e.parent()).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(e){var i=t.ui.safeActiveElement(this.document[0]),s=t(e.target);s.closest(i).length||t.ui.safeBlur(i)},_mouseStart:function(e){var i=this.options;return this.helper=this._createHelper(e),this._addClass(this.helper,"ui-draggable-dragging"),this._cacheHelperProportions(),t.ui.ddmanager&&(t.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return"fixed"===t(this).css("position")}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(e),this.originalPosition=this.position=this._generatePosition(e,!1),this.originalPageX=e.pageX,this.originalPageY=e.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this._setContainment(),this._trigger("start",e)===!1?(this._clear(),!1):(this._cacheHelperProportions(),t.ui.ddmanager&&!i.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this._mouseDrag(e,!0),t.ui.ddmanager&&t.ui.ddmanager.dragStart(this,e),!0)},_refreshOffsets:function(t){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:t.pageX-this.offset.left,top:t.pageY-this.offset.top}},_mouseDrag:function(e,i){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(e,!0),this.positionAbs=this._convertPositionTo("absolute"),!i){var s=this._uiHash();if(this._trigger("drag",e,s)===!1)return this._mouseUp(new t.Event("mouseup",e)),!1;this.position=s.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var i=this,s=!1;return t.ui.ddmanager&&!this.options.dropBehaviour&&(s=t.ui.ddmanager.drop(this,e)),this.dropped&&(s=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!s||"valid"===this.options.revert&&s||this.options.revert===!0||t.isFunction(this.options.revert)&&this.options.revert.call(this.element,s)?t(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){i._trigger("stop",e)!==!1&&i._clear()}):this._trigger("stop",e)!==!1&&this._clear(),!1},_mouseUp:function(e){return this._unblockFrames(),t.ui.ddmanager&&t.ui.ddmanager.dragStop(this,e),this.handleElement.is(e.target)&&this.element.trigger("focus"),t.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp(new t.Event("mouseup",{target:this.element[0]})):this._clear(),this},_getHandle:function(e){return this.options.handle?!!t(e.target).closest(this.element.find(this.options.handle)).length:!0},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this._addClass(this.handleElement,"ui-draggable-handle")},_removeHandleClassName:function(){this._removeClass(this.handleElement,"ui-draggable-handle")},_createHelper:function(e){var i=this.options,s=t.isFunction(i.helper),n=s?t(i.helper.apply(this.element[0],[e])):"clone"===i.helper?this.element.clone().removeAttr("id"):this.element;return n.parents("body").length||n.appendTo("parent"===i.appendTo?this.element[0].parentNode:i.appendTo),s&&n[0]===this.element[0]&&this._setPositionRelative(),n[0]===this.element[0]||/(fixed|absolute)/.test(n.css("position"))||n.css("position","absolute"),n},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_isRootNode:function(t){return/(html|body)/i.test(t.tagName)||t===this.document[0]},_getParentOffset:function(){var e=this.offsetParent.offset(),i=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==i&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var t=this.element.position(),e=this._isRootNode(this.scrollParent[0]);return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+(e?0:this.scrollParent.scrollTop()),left:t.left-(parseInt(this.helper.css("left"),10)||0)+(e?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,s,n=this.options,o=this.document[0];return this.relativeContainer=null,n.containment?"window"===n.containment?(this.containment=[t(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,t(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,t(window).scrollLeft()+t(window).width()-this.helperProportions.width-this.margins.left,t(window).scrollTop()+(t(window).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],void 0):"document"===n.containment?(this.containment=[0,0,t(o).width()-this.helperProportions.width-this.margins.left,(t(o).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],void 0):n.containment.constructor===Array?(this.containment=n.containment,void 0):("parent"===n.containment&&(n.containment=this.helper[0].parentNode),i=t(n.containment),s=i[0],s&&(e=/(scroll|auto)/.test(i.css("overflow")),this.containment=[(parseInt(i.css("borderLeftWidth"),10)||0)+(parseInt(i.css("paddingLeft"),10)||0),(parseInt(i.css("borderTopWidth"),10)||0)+(parseInt(i.css("paddingTop"),10)||0),(e?Math.max(s.scrollWidth,s.offsetWidth):s.offsetWidth)-(parseInt(i.css("borderRightWidth"),10)||0)-(parseInt(i.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(s.scrollHeight,s.offsetHeight):s.offsetHeight)-(parseInt(i.css("borderBottomWidth"),10)||0)-(parseInt(i.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=i),void 0):(this.containment=null,void 0)},_convertPositionTo:function(t,e){e||(e=this.position);var i="absolute"===t?1:-1,s=this._isRootNode(this.scrollParent[0]);return{top:e.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.offset.scroll.top:s?0:this.offset.scroll.top)*i,left:e.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.offset.scroll.left:s?0:this.offset.scroll.left)*i}},_generatePosition:function(t,e){var i,s,n,o,a=this.options,r=this._isRootNode(this.scrollParent[0]),l=t.pageX,h=t.pageY;return r&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),e&&(this.containment&&(this.relativeContainer?(s=this.relativeContainer.offset(),i=[this.containment[0]+s.left,this.containment[1]+s.top,this.containment[2]+s.left,this.containment[3]+s.top]):i=this.containment,t.pageX-this.offset.click.left<i[0]&&(l=i[0]+this.offset.click.left),t.pageY-this.offset.click.top<i[1]&&(h=i[1]+this.offset.click.top),t.pageX-this.offset.click.left>i[2]&&(l=i[2]+this.offset.click.left),t.pageY-this.offset.click.top>i[3]&&(h=i[3]+this.offset.click.top)),a.grid&&(n=a.grid[1]?this.originalPageY+Math.round((h-this.originalPageY)/a.grid[1])*a.grid[1]:this.originalPageY,h=i?n-this.offset.click.top>=i[1]||n-this.offset.click.top>i[3]?n:n-this.offset.click.top>=i[1]?n-a.grid[1]:n+a.grid[1]:n,o=a.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/a.grid[0])*a.grid[0]:this.originalPageX,l=i?o-this.offset.click.left>=i[0]||o-this.offset.click.left>i[2]?o:o-this.offset.click.left>=i[0]?o-a.grid[0]:o+a.grid[0]:o),"y"===a.axis&&(l=this.originalPageX),"x"===a.axis&&(h=this.originalPageY)),{top:h-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:r?0:this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:r?0:this.offset.scroll.left)}},_clear:function(){this._removeClass(this.helper,"ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(e,i,s){return s=s||this._uiHash(),t.ui.plugin.call(this,e,[i,s,this],!0),/^(drag|start|stop)/.test(e)&&(this.positionAbs=this._convertPositionTo("absolute"),s.offset=this.positionAbs),t.Widget.prototype._trigger.call(this,e,i,s)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),t.ui.plugin.add("draggable","connectToSortable",{start:function(e,i,s){var n=t.extend({},i,{item:s.element});s.sortables=[],t(s.options.connectToSortable).each(function(){var i=t(this).sortable("instance");i&&!i.options.disabled&&(s.sortables.push(i),i.refreshPositions(),i._trigger("activate",e,n))})},stop:function(e,i,s){var n=t.extend({},i,{item:s.element});s.cancelHelperRemoval=!1,t.each(s.sortables,function(){var t=this;t.isOver?(t.isOver=0,s.cancelHelperRemoval=!0,t.cancelHelperRemoval=!1,t._storedCSS={position:t.placeholder.css("position"),top:t.placeholder.css("top"),left:t.placeholder.css("left")},t._mouseStop(e),t.options.helper=t.options._helper):(t.cancelHelperRemoval=!0,t._trigger("deactivate",e,n))})},drag:function(e,i,s){t.each(s.sortables,function(){var n=!1,o=this;o.positionAbs=s.positionAbs,o.helperProportions=s.helperProportions,o.offset.click=s.offset.click,o._intersectsWith(o.containerCache)&&(n=!0,t.each(s.sortables,function(){return this.positionAbs=s.positionAbs,this.helperProportions=s.helperProportions,this.offset.click=s.offset.click,this!==o&&this._intersectsWith(this.containerCache)&&t.contains(o.element[0],this.element[0])&&(n=!1),n})),n?(o.isOver||(o.isOver=1,s._parent=i.helper.parent(),o.currentItem=i.helper.appendTo(o.element).data("ui-sortable-item",!0),o.options._helper=o.options.helper,o.options.helper=function(){return i.helper[0]},e.target=o.currentItem[0],o._mouseCapture(e,!0),o._mouseStart(e,!0,!0),o.offset.click.top=s.offset.click.top,o.offset.click.left=s.offset.click.left,o.offset.parent.left-=s.offset.parent.left-o.offset.parent.left,o.offset.parent.top-=s.offset.parent.top-o.offset.parent.top,s._trigger("toSortable",e),s.dropped=o.element,t.each(s.sortables,function(){this.refreshPositions()}),s.currentItem=s.element,o.fromOutside=s),o.currentItem&&(o._mouseDrag(e),i.position=o.position)):o.isOver&&(o.isOver=0,o.cancelHelperRemoval=!0,o.options._revert=o.options.revert,o.options.revert=!1,o._trigger("out",e,o._uiHash(o)),o._mouseStop(e,!0),o.options.revert=o.options._revert,o.options.helper=o.options._helper,o.placeholder&&o.placeholder.remove(),i.helper.appendTo(s._parent),s._refreshOffsets(e),i.position=s._generatePosition(e,!0),s._trigger("fromSortable",e),s.dropped=!1,t.each(s.sortables,function(){this.refreshPositions()}))})}}),t.ui.plugin.add("draggable","cursor",{start:function(e,i,s){var n=t("body"),o=s.options;n.css("cursor")&&(o._cursor=n.css("cursor")),n.css("cursor",o.cursor)},stop:function(e,i,s){var n=s.options;n._cursor&&t("body").css("cursor",n._cursor)}}),t.ui.plugin.add("draggable","opacity",{start:function(e,i,s){var n=t(i.helper),o=s.options;n.css("opacity")&&(o._opacity=n.css("opacity")),n.css("opacity",o.opacity)},stop:function(e,i,s){var n=s.options;n._opacity&&t(i.helper).css("opacity",n._opacity)}}),t.ui.plugin.add("draggable","scroll",{start:function(t,e,i){i.scrollParentNotHidden||(i.scrollParentNotHidden=i.helper.scrollParent(!1)),i.scrollParentNotHidden[0]!==i.document[0]&&"HTML"!==i.scrollParentNotHidden[0].tagName&&(i.overflowOffset=i.scrollParentNotHidden.offset())},drag:function(e,i,s){var n=s.options,o=!1,a=s.scrollParentNotHidden[0],r=s.document[0];a!==r&&"HTML"!==a.tagName?(n.axis&&"x"===n.axis||(s.overflowOffset.top+a.offsetHeight-e.pageY<n.scrollSensitivity?a.scrollTop=o=a.scrollTop+n.scrollSpeed:e.pageY-s.overflowOffset.top<n.scrollSensitivity&&(a.scrollTop=o=a.scrollTop-n.scrollSpeed)),n.axis&&"y"===n.axis||(s.overflowOffset.left+a.offsetWidth-e.pageX<n.scrollSensitivity?a.scrollLeft=o=a.scrollLeft+n.scrollSpeed:e.pageX-s.overflowOffset.left<n.scrollSensitivity&&(a.scrollLeft=o=a.scrollLeft-n.scrollSpeed))):(n.axis&&"x"===n.axis||(e.pageY-t(r).scrollTop()<n.scrollSensitivity?o=t(r).scrollTop(t(r).scrollTop()-n.scrollSpeed):t(window).height()-(e.pageY-t(r).scrollTop())<n.scrollSensitivity&&(o=t(r).scrollTop(t(r).scrollTop()+n.scrollSpeed))),n.axis&&"y"===n.axis||(e.pageX-t(r).scrollLeft()<n.scrollSensitivity?o=t(r).scrollLeft(t(r).scrollLeft()-n.scrollSpeed):t(window).width()-(e.pageX-t(r).scrollLeft())<n.scrollSensitivity&&(o=t(r).scrollLeft(t(r).scrollLeft()+n.scrollSpeed)))),o!==!1&&t.ui.ddmanager&&!n.dropBehaviour&&t.ui.ddmanager.prepareOffsets(s,e)}}),t.ui.plugin.add("draggable","snap",{start:function(e,i,s){var n=s.options;s.snapElements=[],t(n.snap.constructor!==String?n.snap.items||":data(ui-draggable)":n.snap).each(function(){var e=t(this),i=e.offset();this!==s.element[0]&&s.snapElements.push({item:this,width:e.outerWidth(),height:e.outerHeight(),top:i.top,left:i.left})})},drag:function(e,i,s){var n,o,a,r,l,h,c,u,d,p,f=s.options,m=f.snapTolerance,g=i.offset.left,_=g+s.helperProportions.width,v=i.offset.top,b=v+s.helperProportions.height;for(d=s.snapElements.length-1;d>=0;d--)l=s.snapElements[d].left-s.margins.left,h=l+s.snapElements[d].width,c=s.snapElements[d].top-s.margins.top,u=c+s.snapElements[d].height,l-m>_||g>h+m||c-m>b||v>u+m||!t.contains(s.snapElements[d].item.ownerDocument,s.snapElements[d].item)?(s.snapElements[d].snapping&&s.options.snap.release&&s.options.snap.release.call(s.element,e,t.extend(s._uiHash(),{snapItem:s.snapElements[d].item})),s.snapElements[d].snapping=!1):("inner"!==f.snapMode&&(n=m>=Math.abs(c-b),o=m>=Math.abs(u-v),a=m>=Math.abs(l-_),r=m>=Math.abs(h-g),n&&(i.position.top=s._convertPositionTo("relative",{top:c-s.helperProportions.height,left:0}).top),o&&(i.position.top=s._convertPositionTo("relative",{top:u,left:0}).top),a&&(i.position.left=s._convertPositionTo("relative",{top:0,left:l-s.helperProportions.width}).left),r&&(i.position.left=s._convertPositionTo("relative",{top:0,left:h}).left)),p=n||o||a||r,"outer"!==f.snapMode&&(n=m>=Math.abs(c-v),o=m>=Math.abs(u-b),a=m>=Math.abs(l-g),r=m>=Math.abs(h-_),n&&(i.position.top=s._convertPositionTo("relative",{top:c,left:0}).top),o&&(i.position.top=s._convertPositionTo("relative",{top:u-s.helperProportions.height,left:0}).top),a&&(i.position.left=s._convertPositionTo("relative",{top:0,left:l}).left),r&&(i.position.left=s._convertPositionTo("relative",{top:0,left:h-s.helperProportions.width}).left)),!s.snapElements[d].snapping&&(n||o||a||r||p)&&s.options.snap.snap&&s.options.snap.snap.call(s.element,e,t.extend(s._uiHash(),{snapItem:s.snapElements[d].item})),s.snapElements[d].snapping=n||o||a||r||p)}}),t.ui.plugin.add("draggable","stack",{start:function(e,i,s){var n,o=s.options,a=t.makeArray(t(o.stack)).sort(function(e,i){return(parseInt(t(e).css("zIndex"),10)||0)-(parseInt(t(i).css("zIndex"),10)||0)});a.length&&(n=parseInt(t(a[0]).css("zIndex"),10)||0,t(a).each(function(e){t(this).css("zIndex",n+e)}),this.css("zIndex",n+a.length))}}),t.ui.plugin.add("draggable","zIndex",{start:function(e,i,s){var n=t(i.helper),o=s.options;n.css("zIndex")&&(o._zIndex=n.css("zIndex")),n.css("zIndex",o.zIndex)},stop:function(e,i,s){var n=s.options;n._zIndex&&t(i.helper).css("zIndex",n._zIndex)}}),t.ui.draggable,t.widget("ui.droppable",{version:"1.12.1",widgetEventPrefix:"drop",options:{accept:"*",addClasses:!0,greedy:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var e,i=this.options,s=i.accept;this.isover=!1,this.isout=!0,this.accept=t.isFunction(s)?s:function(t){return t.is(s)},this.proportions=function(){return arguments.length?(e=arguments[0],void 0):e?e:e={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight}},this._addToManager(i.scope),i.addClasses&&this._addClass("ui-droppable")},_addToManager:function(e){t.ui.ddmanager.droppables[e]=t.ui.ddmanager.droppables[e]||[],t.ui.ddmanager.droppables[e].push(this)},_splice:function(t){for(var e=0;t.length>e;e++)t[e]===this&&t.splice(e,1)},_destroy:function(){var e=t.ui.ddmanager.droppables[this.options.scope];this._splice(e)},_setOption:function(e,i){if("accept"===e)this.accept=t.isFunction(i)?i:function(t){return t.is(i)};else if("scope"===e){var s=t.ui.ddmanager.droppables[this.options.scope];this._splice(s),this._addToManager(i)}this._super(e,i)},_activate:function(e){var i=t.ui.ddmanager.current;this._addActiveClass(),i&&this._trigger("activate",e,this.ui(i))},_deactivate:function(e){var i=t.ui.ddmanager.current;this._removeActiveClass(),i&&this._trigger("deactivate",e,this.ui(i))
},_over:function(e){var i=t.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this._addHoverClass(),this._trigger("over",e,this.ui(i)))},_out:function(e){var i=t.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this._removeHoverClass(),this._trigger("out",e,this.ui(i)))},_drop:function(e,i){var s=i||t.ui.ddmanager.current,o=!1;return s&&(s.currentItem||s.element)[0]!==this.element[0]?(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var i=t(this).droppable("instance");return i.options.greedy&&!i.options.disabled&&i.options.scope===s.options.scope&&i.accept.call(i.element[0],s.currentItem||s.element)&&n(s,t.extend(i,{offset:i.element.offset()}),i.options.tolerance,e)?(o=!0,!1):void 0}),o?!1:this.accept.call(this.element[0],s.currentItem||s.element)?(this._removeActiveClass(),this._removeHoverClass(),this._trigger("drop",e,this.ui(s)),this.element):!1):!1},ui:function(t){return{draggable:t.currentItem||t.element,helper:t.helper,position:t.position,offset:t.positionAbs}},_addHoverClass:function(){this._addClass("ui-droppable-hover")},_removeHoverClass:function(){this._removeClass("ui-droppable-hover")},_addActiveClass:function(){this._addClass("ui-droppable-active")},_removeActiveClass:function(){this._removeClass("ui-droppable-active")}});var n=t.ui.intersect=function(){function t(t,e,i){return t>=e&&e+i>t}return function(e,i,s,n){if(!i.offset)return!1;var o=(e.positionAbs||e.position.absolute).left+e.margins.left,a=(e.positionAbs||e.position.absolute).top+e.margins.top,r=o+e.helperProportions.width,l=a+e.helperProportions.height,h=i.offset.left,c=i.offset.top,u=h+i.proportions().width,d=c+i.proportions().height;switch(s){case"fit":return o>=h&&u>=r&&a>=c&&d>=l;case"intersect":return o+e.helperProportions.width/2>h&&u>r-e.helperProportions.width/2&&a+e.helperProportions.height/2>c&&d>l-e.helperProportions.height/2;case"pointer":return t(n.pageY,c,i.proportions().height)&&t(n.pageX,h,i.proportions().width);case"touch":return(a>=c&&d>=a||l>=c&&d>=l||c>a&&l>d)&&(o>=h&&u>=o||r>=h&&u>=r||h>o&&r>u);default:return!1}}}();t.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(e,i){var s,n,o=t.ui.ddmanager.droppables[e.options.scope]||[],a=i?i.type:null,r=(e.currentItem||e.element).find(":data(ui-droppable)").addBack();t:for(s=0;o.length>s;s++)if(!(o[s].options.disabled||e&&!o[s].accept.call(o[s].element[0],e.currentItem||e.element))){for(n=0;r.length>n;n++)if(r[n]===o[s].element[0]){o[s].proportions().height=0;continue t}o[s].visible="none"!==o[s].element.css("display"),o[s].visible&&("mousedown"===a&&o[s]._activate.call(o[s],i),o[s].offset=o[s].element.offset(),o[s].proportions({width:o[s].element[0].offsetWidth,height:o[s].element[0].offsetHeight}))}},drop:function(e,i){var s=!1;return t.each((t.ui.ddmanager.droppables[e.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&n(e,this,this.options.tolerance,i)&&(s=this._drop.call(this,i)||s),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,i)))}),s},dragStart:function(e,i){e.element.parentsUntil("body").on("scroll.droppable",function(){e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,i)})},drag:function(e,i){e.options.refreshPositions&&t.ui.ddmanager.prepareOffsets(e,i),t.each(t.ui.ddmanager.droppables[e.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var s,o,a,r=n(e,this,this.options.tolerance,i),l=!r&&this.isover?"isout":r&&!this.isover?"isover":null;l&&(this.options.greedy&&(o=this.options.scope,a=this.element.parents(":data(ui-droppable)").filter(function(){return t(this).droppable("instance").options.scope===o}),a.length&&(s=t(a[0]).droppable("instance"),s.greedyChild="isover"===l)),s&&"isover"===l&&(s.isover=!1,s.isout=!0,s._out.call(s,i)),this[l]=!0,this["isout"===l?"isover":"isout"]=!1,this["isover"===l?"_over":"_out"].call(this,i),s&&"isout"===l&&(s.isout=!1,s.isover=!0,s._over.call(s,i)))}})},dragStop:function(e,i){e.element.parentsUntil("body").off("scroll.droppable"),e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,i)}},t.uiBackCompat!==!1&&t.widget("ui.droppable",t.ui.droppable,{options:{hoverClass:!1,activeClass:!1},_addActiveClass:function(){this._super(),this.options.activeClass&&this.element.addClass(this.options.activeClass)},_removeActiveClass:function(){this._super(),this.options.activeClass&&this.element.removeClass(this.options.activeClass)},_addHoverClass:function(){this._super(),this.options.hoverClass&&this.element.addClass(this.options.hoverClass)},_removeHoverClass:function(){this._super(),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass)}}),t.ui.droppable,t.widget("ui.slider",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"slide",options:{animate:!1,classes:{"ui-slider":"ui-corner-all","ui-slider-handle":"ui-corner-all","ui-slider-range":"ui-corner-all ui-widget-header"},distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this._addClass("ui-slider ui-slider-"+this.orientation,"ui-widget ui-widget-content"),this._refresh(),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var e,i,s=this.options,n=this.element.find(".ui-slider-handle"),o="<span tabindex='0'></span>",a=[];for(i=s.values&&s.values.length||1,n.length>i&&(n.slice(i).remove(),n=n.slice(0,i)),e=n.length;i>e;e++)a.push(o);this.handles=n.add(t(a.join("")).appendTo(this.element)),this._addClass(this.handles,"ui-slider-handle","ui-state-default"),this.handle=this.handles.eq(0),this.handles.each(function(e){t(this).data("ui-slider-handle-index",e).attr("tabIndex",0)})},_createRange:function(){var e=this.options;e.range?(e.range===!0&&(e.values?e.values.length&&2!==e.values.length?e.values=[e.values[0],e.values[0]]:t.isArray(e.values)&&(e.values=e.values.slice(0)):e.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?(this._removeClass(this.range,"ui-slider-range-min ui-slider-range-max"),this.range.css({left:"",bottom:""})):(this.range=t("<div>").appendTo(this.element),this._addClass(this.range,"ui-slider-range")),("min"===e.range||"max"===e.range)&&this._addClass(this.range,"ui-slider-range-"+e.range)):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this._mouseDestroy()},_mouseCapture:function(e){var i,s,n,o,a,r,l,h,c=this,u=this.options;return u.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),i={x:e.pageX,y:e.pageY},s=this._normValueFromMouse(i),n=this._valueMax()-this._valueMin()+1,this.handles.each(function(e){var i=Math.abs(s-c.values(e));(n>i||n===i&&(e===c._lastChangedValue||c.values(e)===u.min))&&(n=i,o=t(this),a=e)}),r=this._start(e,a),r===!1?!1:(this._mouseSliding=!0,this._handleIndex=a,this._addClass(o,null,"ui-state-active"),o.trigger("focus"),l=o.offset(),h=!t(e.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=h?{left:0,top:0}:{left:e.pageX-l.left-o.width()/2,top:e.pageY-l.top-o.height()/2-(parseInt(o.css("borderTopWidth"),10)||0)-(parseInt(o.css("borderBottomWidth"),10)||0)+(parseInt(o.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(e,a,s),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(t){var e={x:t.pageX,y:t.pageY},i=this._normValueFromMouse(e);return this._slide(t,this._handleIndex,i),!1},_mouseStop:function(t){return this._removeClass(this.handles,null,"ui-state-active"),this._mouseSliding=!1,this._stop(t,this._handleIndex),this._change(t,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(t){var e,i,s,n,o;return"horizontal"===this.orientation?(e=this.elementSize.width,i=t.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(e=this.elementSize.height,i=t.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),s=i/e,s>1&&(s=1),0>s&&(s=0),"vertical"===this.orientation&&(s=1-s),n=this._valueMax()-this._valueMin(),o=this._valueMin()+s*n,this._trimAlignValue(o)},_uiHash:function(t,e,i){var s={handle:this.handles[t],handleIndex:t,value:void 0!==e?e:this.value()};return this._hasMultipleValues()&&(s.value=void 0!==e?e:this.values(t),s.values=i||this.values()),s},_hasMultipleValues:function(){return this.options.values&&this.options.values.length},_start:function(t,e){return this._trigger("start",t,this._uiHash(e))},_slide:function(t,e,i){var s,n,o=this.value(),a=this.values();this._hasMultipleValues()&&(n=this.values(e?0:1),o=this.values(e),2===this.options.values.length&&this.options.range===!0&&(i=0===e?Math.min(n,i):Math.max(n,i)),a[e]=i),i!==o&&(s=this._trigger("slide",t,this._uiHash(e,i,a)),s!==!1&&(this._hasMultipleValues()?this.values(e,i):this.value(i)))},_stop:function(t,e){this._trigger("stop",t,this._uiHash(e))},_change:function(t,e){this._keySliding||this._mouseSliding||(this._lastChangedValue=e,this._trigger("change",t,this._uiHash(e)))},value:function(t){return arguments.length?(this.options.value=this._trimAlignValue(t),this._refreshValue(),this._change(null,0),void 0):this._value()},values:function(e,i){var s,n,o;if(arguments.length>1)return this.options.values[e]=this._trimAlignValue(i),this._refreshValue(),this._change(null,e),void 0;if(!arguments.length)return this._values();if(!t.isArray(arguments[0]))return this._hasMultipleValues()?this._values(e):this.value();for(s=this.options.values,n=arguments[0],o=0;s.length>o;o+=1)s[o]=this._trimAlignValue(n[o]),this._change(null,o);this._refreshValue()},_setOption:function(e,i){var s,n=0;switch("range"===e&&this.options.range===!0&&("min"===i?(this.options.value=this._values(0),this.options.values=null):"max"===i&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),t.isArray(this.options.values)&&(n=this.options.values.length),this._super(e,i),e){case"orientation":this._detectOrientation(),this._removeClass("ui-slider-horizontal ui-slider-vertical")._addClass("ui-slider-"+this.orientation),this._refreshValue(),this.options.range&&this._refreshRange(i),this.handles.css("horizontal"===i?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),s=n-1;s>=0;s--)this._change(null,s);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_setOptionDisabled:function(t){this._super(t),this._toggleClass(null,"ui-state-disabled",!!t)},_value:function(){var t=this.options.value;return t=this._trimAlignValue(t)},_values:function(t){var e,i,s;if(arguments.length)return e=this.options.values[t],e=this._trimAlignValue(e);if(this._hasMultipleValues()){for(i=this.options.values.slice(),s=0;i.length>s;s+=1)i[s]=this._trimAlignValue(i[s]);return i}return[]},_trimAlignValue:function(t){if(this._valueMin()>=t)return this._valueMin();if(t>=this._valueMax())return this._valueMax();var e=this.options.step>0?this.options.step:1,i=(t-this._valueMin())%e,s=t-i;return 2*Math.abs(i)>=e&&(s+=i>0?e:-e),parseFloat(s.toFixed(5))},_calculateNewMax:function(){var t=this.options.max,e=this._valueMin(),i=this.options.step,s=Math.round((t-e)/i)*i;t=s+e,t>this.options.max&&(t-=i),this.max=parseFloat(t.toFixed(this._precision()))},_precision:function(){var t=this._precisionOf(this.options.step);return null!==this.options.min&&(t=Math.max(t,this._precisionOf(this.options.min))),t},_precisionOf:function(t){var e=""+t,i=e.indexOf(".");return-1===i?0:e.length-i-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshRange:function(t){"vertical"===t&&this.range.css({width:"",left:""}),"horizontal"===t&&this.range.css({height:"",bottom:""})},_refreshValue:function(){var e,i,s,n,o,a=this.options.range,r=this.options,l=this,h=this._animateOff?!1:r.animate,c={};this._hasMultipleValues()?this.handles.each(function(s){i=100*((l.values(s)-l._valueMin())/(l._valueMax()-l._valueMin())),c["horizontal"===l.orientation?"left":"bottom"]=i+"%",t(this).stop(1,1)[h?"animate":"css"](c,r.animate),l.options.range===!0&&("horizontal"===l.orientation?(0===s&&l.range.stop(1,1)[h?"animate":"css"]({left:i+"%"},r.animate),1===s&&l.range[h?"animate":"css"]({width:i-e+"%"},{queue:!1,duration:r.animate})):(0===s&&l.range.stop(1,1)[h?"animate":"css"]({bottom:i+"%"},r.animate),1===s&&l.range[h?"animate":"css"]({height:i-e+"%"},{queue:!1,duration:r.animate}))),e=i}):(s=this.value(),n=this._valueMin(),o=this._valueMax(),i=o!==n?100*((s-n)/(o-n)):0,c["horizontal"===this.orientation?"left":"bottom"]=i+"%",this.handle.stop(1,1)[h?"animate":"css"](c,r.animate),"min"===a&&"horizontal"===this.orientation&&this.range.stop(1,1)[h?"animate":"css"]({width:i+"%"},r.animate),"max"===a&&"horizontal"===this.orientation&&this.range.stop(1,1)[h?"animate":"css"]({width:100-i+"%"},r.animate),"min"===a&&"vertical"===this.orientation&&this.range.stop(1,1)[h?"animate":"css"]({height:i+"%"},r.animate),"max"===a&&"vertical"===this.orientation&&this.range.stop(1,1)[h?"animate":"css"]({height:100-i+"%"},r.animate))},_handleEvents:{keydown:function(e){var i,s,n,o,a=t(e.target).data("ui-slider-handle-index");switch(e.keyCode){case t.ui.keyCode.HOME:case t.ui.keyCode.END:case t.ui.keyCode.PAGE_UP:case t.ui.keyCode.PAGE_DOWN:case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(e.preventDefault(),!this._keySliding&&(this._keySliding=!0,this._addClass(t(e.target),null,"ui-state-active"),i=this._start(e,a),i===!1))return}switch(o=this.options.step,s=n=this._hasMultipleValues()?this.values(a):this.value(),e.keyCode){case t.ui.keyCode.HOME:n=this._valueMin();break;case t.ui.keyCode.END:n=this._valueMax();break;case t.ui.keyCode.PAGE_UP:n=this._trimAlignValue(s+(this._valueMax()-this._valueMin())/this.numPages);break;case t.ui.keyCode.PAGE_DOWN:n=this._trimAlignValue(s-(this._valueMax()-this._valueMin())/this.numPages);break;case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:if(s===this._valueMax())return;n=this._trimAlignValue(s+o);break;case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(s===this._valueMin())return;n=this._trimAlignValue(s-o)}this._slide(e,a,n)},keyup:function(e){var i=t(e.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(e,i),this._change(e,i),this._removeClass(t(e.target),null,"ui-state-active"))}}})});;
/*!
 * jQuery UI Touch Punch 0.2.3
 *
 * Copyright 20112014, Dave Furfero
 * Dual licensed under the MIT or GPL Version 2 licenses.
 *
 * Depends:
 *  jquery.ui.widget.js
 *  jquery.ui.mouse.js
 */
!function(a){function f(a,b){if(!(a.originalEvent.touches.length>1)){a.preventDefault();var c=a.originalEvent.changedTouches[0],d=document.createEvent("MouseEvents");d.initMouseEvent(b,!0,!0,window,1,c.screenX,c.screenY,c.clientX,c.clientY,!1,!1,!1,!1,0,null),a.target.dispatchEvent(d)}}if(a.support.touch="ontouchend"in document,a.support.touch){var e,b=a.ui.mouse.prototype,c=b._mouseInit,d=b._mouseDestroy;b._touchStart=function(a){var b=this;!e&&b._mouseCapture(a.originalEvent.changedTouches[0])&&(e=!0,b._touchMoved=!1,f(a,"mouseover"),f(a,"mousemove"),f(a,"mousedown"))},b._touchMove=function(a){e&&(this._touchMoved=!0,f(a,"mousemove"))},b._touchEnd=function(a){e&&(f(a,"mouseup"),f(a,"mouseout"),this._touchMoved||f(a,"click"),e=!1)},b._mouseInit=function(){var b=this;b.element.bind({touchstart:a.proxy(b,"_touchStart"),touchmove:a.proxy(b,"_touchMove"),touchend:a.proxy(b,"_touchEnd")}),c.call(b)},b._mouseDestroy=function(){var b=this;b.element.unbind({touchstart:a.proxy(b,"_touchStart"),touchmove:a.proxy(b,"_touchMove"),touchend:a.proxy(b,"_touchEnd")}),d.call(b)}}}(jQuery);;
function modifyURLQuery(url,param){var value={};var query=String(url).split('?');if(query[1]){var part=query[1].split('&');for(i=0;i<part.length;i++){var data=part[i].split('=');if(data[0]&&data[1]){value[data[0]]=data[1]}}}
$.extend(value,param);var query_param='';for(i in value){if(value[i]){query_param+='&'+i+'='+value[i]}}
if(query_param){return query[0]+'?'+query_param.substring(1)}else{return query[0]}}
$.fn.mz_filter=function(setting){var default_setting={delay:2,requestURL:null,searchEl:null,ajax:!0,search_in_description:!0,no_result:'',countProduct:null,sortBy:'product',onParamChange:function(){},onInputChange:function(){},onReset:function(){},onResult:function(){},onBeforeSend:function(){},onComplete:function(){},status:{price:1,sub_category:1,manufacturer:1,search:1,rating:1,discount:1,filter:1,custom:1,availability:1}};setting=$.extend({},default_setting,setting);var mz_filter=this;this.inputs=$(this).find('input:not([type="search"])');this.start=function(param){if(!setting.ajax){window.location.href=modifyURLQuery(window.location.href,$.extend({},param,{page:null}));return}
$.ajax({url:setting.requestURL,data:param,dataType:'json',beforeSend:function(){$('body').addClass('mz-filter-loading');mz_filter.inputs.prop('disabled',1);setting.onBeforeSend()},success:function(json){mz_filter.inputs.prop('disabled',0);setting.onResult(json);mz_filter.updateFilter(json.filter)},complete:function(){$('body').removeClass('mz-filter-loading');$(setting.loaderEl).hide();setting.onComplete()}})};this.updateFilter=function(data){var inputs=mz_filter.find(':checkbox,:radio');inputs.filter(':not(:checked)').prop("disabled",1);mz_filter.find('.mz-product-total').text('0').addClass('label-danger');if(data.manufacturer){var input_manufacturer=inputs.filter('[name="mz_fm"]');for(var i in data.manufacturer){input_manufacturer.filter('[value="'+data.manufacturer[i].manufacturer_id+'"]').prop('disabled',0).parents('.mz-filter-value').find('.mz-product-total').text(data.manufacturer[i].total).removeClass('label-danger')}
this.sort(input_manufacturer)}
if(data.sub_category){var input_sub_category=inputs.filter('[name="mz_fsc"]');for(var i in data.sub_category){input_sub_category.filter('[value="'+data.sub_category[i].category_id+'"]').prop('disabled',0).parents('.mz-filter-value').find('.mz-product-total').text(data.sub_category[i].total).removeClass('label-danger')}
this.sort(input_sub_category)}
if(data.availability){var input_availability=inputs.filter('[name="mz_fs"]');if(data.availability.in_stock>0){input_availability.filter('[value="1"]').prop('disabled',0).parents('.mz-filter-value').find('.mz-product-total').text(data.availability.in_stock).removeClass('label-danger')}
if(data.availability.out_of_stock>0){input_availability.filter('[value="0"]').prop('disabled',0).parents('.mz-filter-value').find('.mz-product-total').text(data.availability.out_of_stock).removeClass('label-danger')}}
if(data.rating){var input_rating=inputs.filter('[name="mz_fr"]');for(var i in data.rating){input_rating.filter('[value="'+data.rating[i].rating+'"]').prop('disabled',0).parents('.mz-filter-value').find('.mz-product-total').text(data.rating[i].total).removeClass('label-danger')}}
if(data.discount){var input_discount=inputs.filter('[name="mz_fd"]');for(var i in data.discount){input_discount.filter('[value="'+data.discount[i].value+'"]').prop('disabled',0).parents('.mz-filter-value').find('.mz-product-total').text(data.discount[i].total).removeClass('label-danger')}}
if(data.filter){var input_filter=inputs.filter('[name="mz_ff"]');for(var i in data.filter){input_filter.filter('[value="'+data.filter[i].filter_id+'"]').prop('disabled',0).parents('.mz-filter-value').find('.mz-product-total').text(data.filter[i].total).removeClass('label-danger')}}
if(data.custom){var input_custom=inputs.filter('[name^="mz_fc"]');for(var i in data.custom){input_custom.filter('[value="'+data.custom[i].value_id+'"]').prop('disabled',0).parents('.mz-filter-value').find('.mz-product-total').text(data.custom[i].total).removeClass('label-danger')}
mz_filter.find('[data-custom-filter]').each(function(){mz_filter.sort(inputs.filter('[name="mz_fc'+$(this).data('custom-filter')+'"]'))})}};this.sort=function(values){if(setting.countProduct&&setting.sortBy==='product'){var $wrapper=values.parents('.mz-filter-group-content');var sortByproduct=function(a,b){return Number($(a).parents('.mz-filter-value').find('.mz-product-total').text())<Number($(b).parents('.mz-filter-value').find('.mz-product-total').text())};var sortByInput=function(a,b){return $(a).prop('disabled')>$(b).prop('disabled')};if(setting.countProduct){var callBack=sortByproduct}else{var callBack=sortByInput}
values.sort(callBack).each(function(){$wrapper.append($(this).parents('.mz-filter-value'))});$wrapper.append($wrapper.find('[data-toggle="mz-seemore"]'))}};this.getParam=function(){var param={};if(setting.status.price){var price='';var min_price_input=mz_filter.inputs.filter('[name="mz_fp[min]"]');var max_price_input=mz_filter.inputs.filter('[name="mz_fp[max]"]');if(min_price_input.attr('min')!==min_price_input.val()){price+=min_price_input.val()}
if(max_price_input.attr('max')!==max_price_input.val()){price+='p'+max_price_input.val()}
if(price){param.mz_fp=price}}
if(setting.status.search){var keyword=mz_filter.inputs.filter('[name="mz_fq"]').val();if(keyword){param.mz_fq=keyword;if(setting.search_in_description){param.description=1}}}
if(setting.status.rating){var min_rating=mz_filter.inputs.filter('[name="mz_fr"]:checked').val();if(min_rating){param.mz_fr=min_rating}}
if(setting.status.discount){var min_discount=mz_filter.inputs.filter('[name="mz_fd"]:checked').val();if(min_discount){param.mz_fd=min_discount}}
if(setting.status.availability){var in_stock=mz_filter.inputs.filter('[name="mz_fs"]:checked').val();if(in_stock!==undefined){param.mz_fs=in_stock}}
if(setting.status.manufacturer){var manufacturer_ids=mz_filter.inputs.filter('[name="mz_fm"]:checked').map(function(){return $(this).val()}).get().join('.');if(manufacturer_ids){param.mz_fm=manufacturer_ids}}
if(setting.status.sub_category){var sub_category_ids=mz_filter.inputs.filter('[name="mz_fsc"]:checked').map(function(){return $(this).val()}).get().join('.');if(sub_category_ids){param.mz_fsc=sub_category_ids}}
if(setting.status.filter){var filter_ids=mz_filter.inputs.filter('[name="mz_ff"]:checked').map(function(){return $(this).val()}).get().join('.');if(filter_ids){param.mz_ff=filter_ids}}
if(setting.status.custom){var mz_fc='';mz_filter.find('[data-custom-filter]').each(function(){var value_ids=mz_filter.inputs.filter('[name="mz_fc'+$(this).data('custom-filter')+'"]:checked').map(function(){return $(this).val()}).get().join('.');if(value_ids){mz_fc+='c'+value_ids}});if(mz_fc){param.mz_fc=mz_fc.substring(1)}}
return $.extend({mz_fp:null,mz_fq:null,mz_fr:null,mz_fd:null,mz_fs:null,mz_fm:null,mz_fsc:null,mz_ff:null,mz_fc:null},param)};mz_filter.on('change',function(){if(mz_filter.timeoutId!==undefined){clearTimeout(mz_filter.timeoutId)}
var param=mz_filter.getParam();mz_filter.timeoutId=setTimeout(function(){mz_filter.start(param)},setting.delay*1000);history.pushState(null,null,modifyURLQuery(window.location.href,$.extend({},param,{page:null})));setting.onParamChange(param)});this.inputs.on('change',function(e){setting.onInputChange(e)});$(setting.searchEl).on('keyup',function(){var value=$(this).val().trim().toLowerCase();$(this).parents('.mz-filter-group').find('.mz-filter-value').filter(function(){var text=$(this).text().trim().toLowerCase();if(!text){text=$(this).find('img').attr('alt').trim().toLowerCase()}
$(this).toggle(text.indexOf(value)>-1)})});mz_filter.find("[data-toggle='mz-seemore']").click(function(e){e.preventDefault();var wrapper=$(this).parent();if(wrapper.hasClass('show')){wrapper.removeClass('show');$(this).text($(this).data('show'))}else{wrapper.addClass('show');$(this).text($(this).data('hide'))}});mz_filter.find('[data-mz-reset="check"]').on('click',function(e){e.stopImmediatePropagation();$(this).parents('.mz-filter-group').find('input').prop('checked',!1);setting.onReset(this);mz_filter.change()});mz_filter.find('[data-mz-reset="price"]').on('click',function(e){e.stopImmediatePropagation();mz_filter.find('[name="mz_fp[min]"]').val(mz_filter.find('[name="mz_fp[min]"]').attr('min'));mz_filter.find('[name="mz_fp[max]"]').val(mz_filter.find('[name="mz_fp[max]"]').attr('max'));setting.onReset(this);mz_filter.change()});mz_filter.find('[data-mz-reset="text"]').on('click',function(e){e.stopImmediatePropagation();$(this).parents('.mz-filter-group').find('input').val('');setting.onReset(this);mz_filter.change()});$(this).find('[data-mz-reset="all"]').on('click',function(e){e.stopImmediatePropagation();mz_filter.find('.mz-filter-group :checkbox, .mz-filter-group :radio').prop('checked',!1);mz_filter.find('.mz-filter-group input[type="text"]').val('');mz_filter.find('[name="mz_fp[min]"]').val(mz_filter.find('[name="mz_fp[min]"]').attr('min'));mz_filter.find('[name="mz_fp[max]"]').val(mz_filter.find('[name="mz_fp[max]"]').attr('max'));setting.onReset(this);mz_filter.change()})};
